# Encrypted with Marshal (Reversible)
import marshal, zlib, base64

exec(marshal.loads(zlib.decompress(base64.b64decode(b'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'))))


# __SRC_B64__:IyEvdXNyL2Jpbi9lbnYgcHl0aG9uMwppbXBvcnQgb3MKaW1wb3J0IHN5cwppbXBvcnQgdGltZQppbXBvcnQgcmFuZG9tCmltcG9ydCBzdHJpbmcKaW1wb3J0IGdldHBhc3MKaW1wb3J0IHNvY2tldAppbXBvcnQgcmUKaW1wb3J0IHVybGxpYi5wYXJzZQpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZQpmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgQ2VrIGRhbiBJbXBvcnQgTGlicmFyeQojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQp0cnk6CiAgICBpbXBvcnQgcmVxdWVzdHMKICAgIGZyb20gYnM0IGltcG9ydCBCZWF1dGlmdWxTb3VwIGFzIGJzCiAgICBmcm9tIGZha2VyIGltcG9ydCBGYWtlcgogICAgZnJvbSByaWNoLmNvbnNvbGUgaW1wb3J0IENvbnNvbGUKICAgIGZyb20gcmljaC5wYW5lbCBpbXBvcnQgUGFuZWwKICAgIGZyb20gcmljaC50cmVlIGltcG9ydCBUcmVlCiAgICBmcm9tIHJpY2gucHJvbXB0IGltcG9ydCBQcm9tcHQsIEludFByb21wdAogICAgZnJvbSBmYWtlX3VzZXJhZ2VudCBpbXBvcnQgVXNlckFnZW50CmV4Y2VwdCBJbXBvcnRFcnJvciBhcyBlOgogICAgcHJpbnQoZiJbRVJST1JdIExpYnJhcnkgYmVsdW0gdGVyaW5zdGFsbDoge2V9IikKICAgIHN5cy5leGl0KDEpCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIEluaXNpYWxpc2FzaSBHbG9iYWwKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KY29uc29sZSA9IENvbnNvbGUoKQpmYWtlciA9IEZha2VyKCJlbl9VUyIpICAjIGRlZmF1bHQgbG9jYWxlIHVudHVrIHN0YWJpbGl0YXMKCnRyeToKICAgIHVhID0gVXNlckFnZW50KCkKZXhjZXB0OgogICAgdWEgPSBOb25lCgpzdGF0dXMgPSB7ImxpdmUiOjAsICJjcCI6MCwgImxvb3AiOjB9CgpzZXR0aW5ncyA9IHsKICAgICJsaW1pdCI6IDEsCiAgICAicGFzc3dvcmQiOiAiRk9VTkRFUiIsCiAgICAidXNlX3RlbXBfZW1haWwiOiBGYWxzZSwKICAgICJ1c2VfcmVhbF9lbWFpbCI6IEZhbHNlLAp9CgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIERpcmVrdG9yaSBwZW55aW1wYW5hbgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpTQVZFX0RJUiA9IFBhdGgoIi9zZGNhcmQvRkFDRUJPT0tNRSIpClNBVkVfRElSLm1rZGlyKHBhcmVudHM9VHJ1ZSwgZXhpc3Rfb2s9VHJ1ZSkKU0FWRV9GSUxFID0gU0FWRV9ESVIgLyAiZmJmcmVzaG11LnR4dCIKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgRnVuZ3NpIHV0aWxpdHkKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KZGVmIGNsZWFyX3NjcmVlbigpOgogICAgb3Muc3lzdGVtKCJjbHMiIGlmIG9zLm5hbWUgPT0gIm50IiBlbHNlICJjbGVhciIpCgpkZWYgZ2V0X3B1YmxpY19pcCgpOgogICAgdHJ5OgogICAgICAgIHJldHVybiByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vYXBpLmlwaWZ5Lm9yZycsIHRpbWVvdXQ9NSkudGV4dAogICAgZXhjZXB0OgogICAgICAgIHJldHVybiAiVGlkYWsgZGFwYXQgbWVuZ2FtYmlsIElQIgoKZGVmIHVnZW4oKToKICAgIHRyeToKICAgICAgICByZXR1cm4gdWEucmFuZG9tCiAgICBleGNlcHQ6CiAgICAgICAgcmV0dXJuICJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTE7IEluZmluaXggWDY2M0IpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMjguMC4wLjAgTW9iaWxlIFNhZmFyaS81MzcuMzYiCgpkZWYgZXh0cmFjdF9mb3JtKGh0bWwpOgogICAga2V5cyA9IFsibHNkIiwgImphem9lc3QiLCAiZmJfZHRzZyIsICJyZWdfaW5zdGFuY2UiLCAicmVnX2ltcHJlc3Npb25faWQiLCAibG9nZ2VyX2lkIl0KICAgIGRhdGEgPSB7fQogICAgZm9yIGtleSBpbiBrZXlzOgogICAgICAgIGZvdW5kID0gcmUuc2VhcmNoKHJmJ25hbWU9IntrZXl9IiB2YWx1ZT0iKC4qPykiJywgaHRtbCkKICAgICAgICBpZiBmb3VuZDoKICAgICAgICAgICAgZGF0YVtrZXldID0gZm91bmQuZ3JvdXAoMSkKICAgIHJldHVybiBkYXRhCgpkZWYgZ2V0X2VtYWlsKCk6CiAgICBpZiBzZXR0aW5ncy5nZXQoInVzZV90ZW1wX2VtYWlsIik6CiAgICAgICAgZG9tYWlucyA9IFsnQG1ib3gucmUnLCdAMXNlY21haWwuY29tJywnQGZleGJveC5vcmcnLCdAZmV4cG9zdC5jb20nLCdAZmV4dGVtcC5jb20nLCdAbWFpbHRvLnBsdXMnXQogICAgICAgIHJldHVybiBmIntmYWtlci5maXJzdF9uYW1lKCkubG93ZXIoKX17ZmFrZXIubGFzdF9uYW1lKCkubG93ZXIoKX17cmFuZG9tLnJhbmRpbnQoMTAsOTk5KX17cmFuZG9tLmNob2ljZShkb21haW5zKX0iCiAgICBlbGlmIHNldHRpbmdzLmdldCgidXNlX3JlYWxfZW1haWwiKToKICAgICAgICBkb21haW5zID0gWydAZ21haWwuY29tJywnQG91dGxvb2suY29tJywnQHlhaG9vLmNvbSddCiAgICAgICAgcmV0dXJuIGYie2Zha2VyLmZpcnN0X25hbWUoKS5sb3dlcigpfXtmYWtlci5sYXN0X25hbWUoKS5sb3dlcigpfXtyYW5kb20ucmFuZGludCgxMCw5OTkpfXtyYW5kb20uY2hvaWNlKGRvbWFpbnMpfSIKICAgIGVsc2U6CiAgICAgICAgcmV0dXJuICIrNjI4OTUiK3N0cihyYW5kb20ucmFuZGludCgxMTExMTExMSw5OTk5OTk5OSkpCgpkZWYgZ2V0X2ZhY2Vib29rX3Byb2ZpbGVfaW5mbyh1aWQpOgogICAgdHJ5OgogICAgICAgIHIgPSByZXF1ZXN0cy5nZXQoZidodHRwczovL3d3dy5mYWNlYm9vay5jb20ve3VpZH0nLCB0aW1lb3V0PTEwKQogICAgICAgIGlmIHIuc3RhdHVzX2NvZGU9PTIwMDoKICAgICAgICAgICAgc291cCA9IGJzKHIudGV4dCwnaHRtbC5wYXJzZXInKQogICAgICAgICAgICB0aXRsZSA9IHNvdXAuZmluZCgndGl0bGUnKS50ZXh0IGlmIHNvdXAuZmluZCgndGl0bGUnKSBlbHNlICIiCiAgICAgICAgICAgIHJldHVybiB0aXRsZSBpZiB0aXRsZSBlbHNlICJOYW1hIHRpZGFrIGRpdGVtdWthbiIKICAgICAgICByZXR1cm4gIlByb2ZpbCB0aWRhayBkYXBhdCBkaWFrc2VzIgogICAgZXhjZXB0OgogICAgICAgIHJldHVybiAiRXJyb3Igc2FhdCBtZW5nYWtzZXMgcHJvZmlsIgoKZGVmIGNoZWNrKHVpZGt1KToKICAgIHRyeToKICAgICAgICByID0gcmVxdWVzdHMuZ2V0KGYnaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL3t1aWRrdX0nLCB0aW1lb3V0PTEwKQogICAgICAgIGlmIHIuc3RhdHVzX2NvZGUgPT0gMjAwOgogICAgICAgICAgICBzb3VwID0gYnMoci50ZXh0LCAnaHRtbC5wYXJzZXInKQogICAgICAgICAgICB0aXRsZSA9IHNvdXAuZmluZCgndGl0bGUnKS50ZXh0IGlmIHNvdXAuZmluZCgndGl0bGUnKSBlbHNlICIiCiAgICAgICAgICAgIG5hbWEgPSB0aXRsZSBpZiB0aXRsZSBlbHNlICJOYW1hIHRpZGFrIGRpdGVtdWthbiIKICAgICAgICAgICAgY29uc29sZS5wcmludChmIltncmVlbl1VSUQge3VpZGt1fSAtPiB7bmFtYX1bL2dyZWVuXSIpCiAgICAgICAgICAgIHJldHVybiBuYW1hCiAgICAgICAgZWxzZToKICAgICAgICAgICAgY29uc29sZS5wcmludChmIltyZWRdVUlEIHt1aWRrdX0gdGlkYWsgZGFwYXQgZGlha3Nlc1svcmVkXSIpCiAgICAgICAgICAgIHJldHVybiBOb25lCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgY29uc29sZS5wcmludChmIltyZWRdRXJyb3Igc2FhdCBtZW5nYWtzZXMgVUlEIHt1aWRrdX06IHtlfVsvcmVkXSIpCiAgICAgICAgcmV0dXJuIE5vbmUKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgTGlzZW5zaSAvIEFwcHJvdmFsCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmRlZiBhcHByb3ZhbCgpOgogICAgY2xlYXJfc2NyZWVuKCkKICAgIHRpbWUuc2xlZXAoMC41KQogICAgZGV2aWNlX2lkID0gc3RyKG9zLmdldGV1aWQoKSkgKyBzdHIob3MuZ2V0bG9naW4oKSkKICAgIGRldmljZV9uYW1lID0gc29ja2V0LmdldGhvc3RuYW1lKCkudXBwZXIoKQogICAgcmFuZG9tLnNlZWQoZGV2aWNlX2lkKQogICAgCiAgICBkZWYgcmFuZG9tX2RpZ2l0KCk6IHJldHVybiBzdHIocmFuZG9tLnJhbmRpbnQoMCwgOSkpCiAgICBkZWYgcmFuZG9tX2xldHRlcigpOiByZXR1cm4gcmFuZG9tLmNob2ljZSgnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVonKQoKICAgIGxldHRlcnNfZnJvbV9kZXZpY2UgPSBbYyBmb3IgYyBpbiBkZXZpY2VfbmFtZSBpZiBjLmlzYWxwaGEoKV0KICAgIHdoaWxlIGxlbihsZXR0ZXJzX2Zyb21fZGV2aWNlKSA8IDQ6CiAgICAgICAgbGV0dGVyc19mcm9tX2RldmljZS5hcHBlbmQocmFuZG9tX2xldHRlcigpKQoKICAgIGxpY2Vuc2VfcGFydHMgPSBbCiAgICAgICAgZiJ7cmFuZG9tX2RpZ2l0KCl9e3JhbmRvbV9kaWdpdCgpfS17bGV0dGVyc19mcm9tX2RldmljZVswXX17bGV0dGVyc19mcm9tX2RldmljZVsxXX0iLAogICAgICAgIGYie3JhbmRvbV9kaWdpdCgpfXtyYW5kb21fZGlnaXQoKX0te2xldHRlcnNfZnJvbV9kZXZpY2VbMl19e2xldHRlcnNfZnJvbV9kZXZpY2VbM119IiwKICAgICAgICBmIntyYW5kb21fZGlnaXQoKX17cmFuZG9tX2RpZ2l0KCl9LXtyYW5kb21fbGV0dGVyKCl9e3JhbmRvbV9sZXR0ZXIoKX0iLAogICAgICAgIGYie3JhbmRvbV9kaWdpdCgpfXtyYW5kb21fZGlnaXQoKX0te3JhbmRvbV9sZXR0ZXIoKX17cmFuZG9tX2xldHRlcigpfSIsCiAgICBdCiAgICBmdWxsX2xpY2Vuc2UgPSAiRk9VTkRFUi0iICsgIi0iLmpvaW4obGljZW5zZV9wYXJ0cykKICAgIGNvbnNvbGUucHJpbnQoUGFuZWwoZiJMaXNlbnNpIERlZmF1bHQgOiBbYm9sZCBncmVlbl17ZnVsbF9saWNlbnNlfVsvYm9sZCBncmVlbl0iLCB0aXRsZT0iSU5GTyBMSVNFTlNJIikpCiAgICB0aW1lLnNsZWVwKDAuNSkKCiAgICBub3cgPSBkYXRldGltZS5ub3coKQogICAgdGFuZ2dhbCA9IG5vdy5kYXkKICAgIGJ1bGFuX25hbWEgPSBub3cuc3RyZnRpbWUoIiVCIikKICAgIGJ1bGFuX2FuZ2thID0gbm93LnN0cmZ0aW1lKCIlbSIpCiAgICB3YWt0dV9kYWZ0YXIgPSBub3cuc3RyZnRpbWUoIiVIOiVNOiVTIikKICAgIGlwX2FkZHJlc3MgPSBnZXRfcHVibGljX2lwKCkKCiAgICB0cnk6CiAgICAgICAgdXJsX2tleXMgPSAiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1NsbG93bHlEZXYvbGljZW5zZS1rZXktdmFsaWRhdGlvbi9yZWZzL2hlYWRzL21haW4vbGljZW5zZXMuanNvbiIKICAgICAgICByZXNwb25zZSA9IHJlcXVlc3RzLmdldCh1cmxfa2V5cywgdGltZW91dD0xMCkKICAgICAgICB2YWxpZF9rZXlzID0gW3guc3RyaXAoKSBmb3IgeCBpbiByZXNwb25zZS50ZXh0LnNwbGl0bGluZXMoKSBpZiB4LnN0cmlwKCldCiAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgIGNvbnNvbGUucHJpbnQoUGFuZWwoIltib2xkIHJlZF1HYWdhbCBtZW5nYW1iaWwgZGF0YSBsaXNlbnNpLiBQYXN0aWthbiBrb25la3NpIGludGVybmV0IGFrdGlmIVsvYm9sZCByZWRdIiwgdGl0bGU9IkVSUk9SIikpCiAgICAgICAgc3lzLmV4aXQoMSkKCiAgICBpZiBmdWxsX2xpY2Vuc2UgaW4gdmFsaWRfa2V5czoKICAgICAgICBjb25zb2xlLnByaW50KFBhbmVsKCJbYm9sZCBncmVlbl1MaXNlbnNpIFZhbGlkISBTZWxhbWF0IGRhdGFuZy5bL2JvbGQgZ3JlZW5dIiwgdGl0bGU9IlNVQ0NFU1MiKSkKICAgICAgICB0aW1lLnNsZWVwKDEpCiAgICAgICAgcmV0dXJuIGZ1bGxfbGljZW5zZSwgIi0iLmpvaW4obGljZW5zZV9wYXJ0cykKICAgIGVsc2U6CiAgICAgICAgY29uc29sZS5wcmludChQYW5lbCgiW2JvbGQgeWVsbG93XUxpc2Vuc2kgYmVsdW0gZGlrb25maXJtYXNpLlxuU2lsYWthbiBodWJ1bmdpIGFkbWluIG1lbGFsdWkgbGluayBiZXJpa3V0OlsvYm9sZCB5ZWxsb3ddIiwgdGl0bGU9IklORk8iKSkKICAgICAgICBwZXNhbiA9ICgKICAgICAgICAgICAgZiIqTElTRU5TSSogOiB7ZnVsbF9saWNlbnNlfVxuIgogICAgICAgICAgICBmIipUYW5nZ2FsIERhZnRhciogOiB7dGFuZ2dhbH1cbiIKICAgICAgICAgICAgZiIqQnVsYW4gRGFmdGFyKiA6IHtidWxhbl9uYW1hfSB7YnVsYW5fYW5na2F9XG4iCiAgICAgICAgICAgIGYiKldha3R1IERhZnRhciogOiB7d2FrdHVfZGFmdGFyfVxuIgogICAgICAgICAgICBmIipOYW1hIERldmljZSogOiB7ZGV2aWNlX25hbWV9XG4iCiAgICAgICAgICAgIGYiKkFsYW1hdCBJUCogOiB7aXBfYWRkcmVzc30iCiAgICAgICAgKQogICAgICAgIGxpbmtfd2hhdHNhcHAgPSBvcy5zeXN0ZW0oZiJ4ZGctb3BlbiBodHRwczovL3dhLm1lLzYyODgxMDIzMzg3MTQwP3RleHQ9e3VybGxpYi5wYXJzZS5xdW90ZV9wbHVzKHBlc2FuKX0iKQogICAgICAgIHN5cy5leGl0KDApCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIFJlZ2lzdGVyIGFrdW4gRmFjZWJvb2sKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KZGVmIHJlZ2lzdGVyX2FjY291bnQoKToKICAgIHN0YXR1c1sibG9vcCJdICs9IDEKICAgIGZvciBpIGluIHJhbmdlKDIsIDAsIC0xKToKICAgICAgICBjb25zb2xlLnByaW50KAogICAgICAgICAgICBmIltncmV5NTBd4pSA4pSAPiAoW2dyZWVuXVdha3R1LT4ge2l9cyBBa3VuLT4ge3N0YXR1c1snbG9vcCddfVtncmV5NTBdKSDigJQgIgogICAgICAgICAgICBmIltncmV5NTBdKFtncmVlbl1TdWNjZXNzW2dyZXk1MF06W2dyZWVuXXtzdGF0dXNbJ2xpdmUnXX1bZ3JleTUwXS8iCiAgICAgICAgICAgIGYiW3JlZF1DaGVja1tncmV5NTBdOltyZWRde3N0YXR1c1snY3AnXX1bZ3JleTUwXSkiLAogICAgICAgICAgICBlbmQ9IlxyIgogICAgICAgICkKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICB0aW1lLnNsZWVwKDEpCiAgICB0cnk6CiAgICAgICAgc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpCiAgICAgICAgcmVzID0gc2VzLmdldCgiaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS9yZWciLCB0aW1lb3V0PTE1KQogICAgICAgIGZvcm0gPSBleHRyYWN0X2Zvcm0ocmVzLnRleHQpCiAgICAgICAgZm5hbWUgPSBmYWtlci5maXJzdF9uYW1lKCkubG93ZXIoKSArICIgIiArIGZha2VyLmxhc3RfbmFtZSgpLmxvd2VyKCkKICAgICAgICBsbmFtZSA9IGZha2VyLmxhc3RfbmFtZSgpLmxvd2VyKCkKICAgICAgICBlbWFpbCA9IGdldF9lbWFpbCgpCiAgICAgICAgcGFzc3dvcmQgPSBzZXR0aW5nc1sicGFzc3dvcmQiXQogICAgICAgIGJpcnRoX2RheSA9IGYie3JhbmRvbS5yYW5kaW50KDEsIDI4KTowMmR9IgogICAgICAgIGJpcnRoX21vbnRoID0gZiJ7cmFuZG9tLnJhbmRpbnQoMSwgMTIpOjAyZH0iCiAgICAgICAgYmlydGhfeWVhciA9IHN0cihyYW5kb20ucmFuZGludCgxOTgwLCAyMDAwKSkKICAgICAgICBnZW5kZXJfY29kZSA9IHJhbmRvbS5jaG9pY2UoWyIxIiwgIjIiXSkKICAgICAgICBnZW5kZXJfdGV4dCA9ICJQZXJlbXB1YW4iIGlmIGdlbmRlcl9jb2RlID09ICIxIiBlbHNlICJMYWtpLWxha2kiCgogICAgICAgIHBheWxvYWQgPSB7CiAgICAgICAgICAgICJsc2QiOiBmb3JtLmdldCgibHNkIiwgIiIpLAogICAgICAgICAgICAiamF6b2VzdCI6IGZvcm0uZ2V0KCJqYXpvZXN0IiwgIiIpLAogICAgICAgICAgICAiZmJfZHRzZyI6IGZvcm0uZ2V0KCJmYl9kdHNnIiwgIiIpLAogICAgICAgICAgICAicmVnX2luc3RhbmNlIjogZm9ybS5nZXQoInJlZ19pbnN0YW5jZSIsICIiKSwKICAgICAgICAgICAgInJlZ19pbXByZXNzaW9uX2lkIjogZm9ybS5nZXQoInJlZ19pbXByZXNzaW9uX2lkIiwgIiIpLAogICAgICAgICAgICAibG9nZ2VyX2lkIjogZm9ybS5nZXQoImxvZ2dlcl9pZCIsICIiKSwKICAgICAgICAgICAgImZpcnN0bmFtZSI6IGZuYW1lLAogICAgICAgICAgICAibGFzdG5hbWUiOiBsbmFtZSwKICAgICAgICAgICAgImJpcnRoZGF5X2RheSI6IGJpcnRoX2RheSwKICAgICAgICAgICAgImJpcnRoZGF5X21vbnRoIjogYmlydGhfbW9udGgsCiAgICAgICAgICAgICJiaXJ0aGRheV95ZWFyIjogYmlydGhfeWVhciwKICAgICAgICAgICAgInNleCI6IGdlbmRlcl9jb2RlLAogICAgICAgICAgICAicmVnX2VtYWlsX18iOiBlbWFpbCwKICAgICAgICAgICAgInJlZ19wYXNzd2RfXyI6IHBhc3N3b3JkLAogICAgICAgICAgICAiZW5jcGFzcyI6IGYiI1BXRF9CUk9XU0VSOjA6e2ludCh0aW1lLnRpbWUoKSl9OntwYXNzd29yZH0iLAogICAgICAgICAgICAic3VibWl0IjogIkRhZnRhciIsCiAgICAgICAgfQoKICAgICAgICBoZWFkZXJzID0gewogICAgICAgICAgICAiYXV0aG9yaXR5IjogIm0uZmFjZWJvb2suY29tIiwKICAgICAgICAgICAgImFjY2VwdCI6ICJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSwqLyo7cT0wLjgiLAogICAgICAgICAgICAiYWNjZXB0LWxhbmd1YWdlIjogImlkLUlELGlkO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43IiwKICAgICAgICAgICAgImNhY2hlLWNvbnRyb2wiOiAibWF4LWFnZT0wIiwKICAgICAgICAgICAgIm9yaWdpbiI6ICJodHRwczovL20uZmFjZWJvb2suY29tIiwKICAgICAgICAgICAgInJlZmVyZXIiOiAiaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS9yZWciLAogICAgICAgICAgICAic2VjLWNoLXVhIjogJyJDaHJvbWl1bSI7dj0iMTI4IiwgIkdvb2dsZSBDaHJvbWUiO3Y9IjEyOCIsICJOb3QtQS5CcmFuZCI7dj0iMjQiJywKICAgICAgICAgICAgInNlYy1jaC11YS1tb2JpbGUiOiAiPzEiLAogICAgICAgICAgICAic2VjLWNoLXVhLXBsYXRmb3JtIjogJyJBbmRyb2lkIicsCiAgICAgICAgICAgICJzZWMtZmV0Y2gtZGVzdCI6ICJkb2N1bWVudCIsCiAgICAgICAgICAgICJzZWMtZmV0Y2gtbW9kZSI6ICJuYXZpZ2F0ZSIsCiAgICAgICAgICAgICJzZWMtZmV0Y2gtc2l0ZSI6ICJzYW1lLW9yaWdpbiIsCiAgICAgICAgICAgICJzZWMtZmV0Y2gtdXNlciI6ICI/MSIsCiAgICAgICAgICAgICJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjogIjEiLAogICAgICAgICAgICAidXNlci1hZ2VudCI6IHVnZW4oKQogICAgICAgIH0KCiAgICAgICAgcmVnID0gc2VzLnBvc3QoImh0dHBzOi8vbS5mYWNlYm9vay5jb20vcmVnL3N1Ym1pdC8iLCBkYXRhPXBheWxvYWQsIGhlYWRlcnM9aGVhZGVycywgdGltZW91dD0xNSkKICAgICAgICBjb29raWVzID0gc2VzLmNvb2tpZXMuZ2V0X2RpY3QoKQoKICAgICAgICBpZiAiY191c2VyIiBpbiBjb29raWVzOgogICAgICAgICAgICB1aWQgPSBjb29raWVzWyJjX3VzZXIiXQogICAgICAgICAgICBjb29raWVfc3RyID0gIjsgIi5qb2luKFtmIntrfT17dn0iIGZvciBrLCB2IGluIGNvb2tpZXMuaXRlbXMoKV0pCiAgICAgICAgICAgIHByb2ZpbGVfbmFtZSA9IGdldF9mYWNlYm9va19wcm9maWxlX2luZm8odWlkKQoKICAgICAgICAgICAgaWYgcHJvZmlsZV9uYW1lIGFuZCAiRmFjZWJvb2siIG5vdCBpbiBwcm9maWxlX25hbWU6CiAgICAgICAgICAgICAgICBzdGF0dXNbImxpdmUiXSArPSAxCiAgICAgICAgICAgICAgICBjcmVhdGVkX2RhdGUgPSBkYXRldGltZS5ub3coKS5zdHJmdGltZSgiJWQtJW0tJVkiKQogICAgICAgICAgICAgICAgdGdsX2xhaGlyID0gZiJ7YmlydGhfZGF5fS17YmlydGhfbW9udGh9LXtiaXJ0aF95ZWFyfSIKCiAgICAgICAgICAgICAgICB0cmVlID0gVHJlZShmIltib2xkIGdyZWVuXUFrdW4gQmVyaGFzaWwgRGlidWF0IOKAlCBVSUQgW2dyZWVuXXt1aWR9Wy9ncmVlbl1bL2JvbGQgZ3JlZW5dIikKICAgICAgICAgICAgICAgIGFrdW5fdHJlZSA9IHRyZWUuYWRkKCJbY3lhbl1JbmZvcm1hc2kgQWt1biBMZW5na2FwWy9jeWFuXSIpCiAgICAgICAgICAgICAgICBha3VuX3RyZWUuYWRkKGYiW2JvbGQgd2hpdGVdTmFtYSBMZW5na2FwWy9dOiBbYm9sZCBncmVlbl17cHJvZmlsZV9uYW1lfVsvXSIpCiAgICAgICAgICAgICAgICBha3VuX3RyZWUuYWRkKGYiW2JvbGQgd2hpdGVdVUlEWy9dOiBbYm9sZCBncmVlbl17dWlkfVsvXSIpCiAgICAgICAgICAgICAgICBha3VuX3RyZWUuYWRkKGYiW2JvbGQgd2hpdGVdUGFzc3dvcmRbL106IFtib2xkIGdyZWVuXXtwYXNzd29yZH1bL10iKQogICAgICAgICAgICAgICAgYWt1bl90cmVlLmFkZChmIltib2xkIHdoaXRlXUVtYWlsIC8gTm9tb3JbL106IFtib2xkIGdyZWVuXXtlbWFpbH1bL10iKQogICAgICAgICAgICAgICAgYWt1bl90cmVlLmFkZChmIltib2xkIHdoaXRlXUplbmlzIEtlbGFtaW5bL106IFtib2xkIGdyZWVuXXtnZW5kZXJfdGV4dH1bL10iKQogICAgICAgICAgICAgICAgYWt1bl90cmVlLmFkZChmIltib2xkIHdoaXRlXVRhbmdnYWwgTGFoaXJbL106IFtib2xkIGdyZWVuXXt0Z2xfbGFoaXJ9Wy9dIikKICAgICAgICAgICAgICAgIGFrdW5fdHJlZS5hZGQoZiJbYm9sZCB3aGl0ZV1UYW5nZ2FsIEFrdW4gRGlidWF0Wy9dOiBbYm9sZCBncmVlbl17Y3JlYXRlZF9kYXRlfVsvXSIpCiAgICAgICAgICAgICAgICBha3VuX3RyZWUuYWRkKGYiW2JvbGQgd2hpdGVdQ29va2llWy9dOiBbYm9sZCBncmVlbl17Y29va2llX3N0cn1bL10iKQogICAgICAgICAgICAgICAgY29uc29sZS5wcmludChQYW5lbCh0cmVlLCB0aXRsZT0iW2dyZWVuXVNVQ0NFU1NbL2dyZWVuXSIpKQoKICAgICAgICAgICAgICAgIHdpdGggb3BlbihTQVZFX0ZJTEUsICJhIiwgZW5jb2Rpbmc9InV0Zi04IikgYXMgZjoKICAgICAgICAgICAgICAgICAgICBmLndyaXRlKAogICAgICAgICAgICAgICAgICAgICAgICBmIk5hbWE6IHtwcm9maWxlX25hbWV9XG5VSUQ6IHt1aWR9XG5QYXNzd29yZDoge3Bhc3N3b3JkfVxuRW1haWwvTm9tb3I6IHtlbWFpbH1cbiIKICAgICAgICAgICAgICAgICAgICAgICAgZiJKZW5pcyBLZWxhbWluOiB7Z2VuZGVyX3RleHR9XG5UYW5nZ2FsIExhaGlyOiB7dGdsX2xhaGlyfVxuVGFuZ2dhbCBBa3VuIERpYnVhdDoge2NyZWF0ZWRfZGF0ZX1cbiIKICAgICAgICAgICAgICAgICAgICAgICAgZiJDb29raWU6IHtjb29raWVfc3RyfVxueyctJyo1MH1cbiIKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBzdGF0dXNbImNwIl0gKz0gMQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHN0YXR1c1siY3AiXSArPSAxCgogICAgZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuUmVxdWVzdEV4Y2VwdGlvbjoKICAgICAgICBzdGF0dXNbImNwIl0gKz0gMQogICAgICAgIHRpbWUuc2xlZXAocmFuZG9tLnVuaWZvcm0oNSwgMTApKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHN0YXR1c1siY3AiXSArPSAxCiAgICAgICAgY29uc29sZS5wcmludChmIltyZWRdRXJyb3Igc2FhdCBjcmVhdGUgYWt1bjoge2V9Wy9yZWRdIikKICAgICAgICB0aW1lLnNsZWVwKHJhbmRvbS51bmlmb3JtKDUsIDEwKSkKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgSGVhZGVyICYgTWVudQojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpkZWYgc2hvd19oZWFkZXJfb25jZShsaWNlbnNlX3BhcnRzKToKICAgIHRvdGFsX2xpdmUgPSAwCiAgICBpZiBTQVZFX0ZJTEUuZXhpc3RzKCk6CiAgICAgICAgdHJ5OgogICAgICAgICAgICB3aXRoIG9wZW4oU0FWRV9GSUxFLCAiciIsIGVuY29kaW5nPSJ1dGYtOCIpIGFzIGZoOgogICAgICAgICAgICAgICAgZm9yIGxuIGluIGZoOgogICAgICAgICAgICAgICAgICAgIGlmICJVSUQ6IiBpbiBsbjoKICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxfbGl2ZSArPSAxCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBwYXNzCiAgICBwYW5lbF9jb250ZW50ID0gZiJbYm9sZCB3aGl0ZV1Ub3RhbCBMaXZlIChmaWxlKTogW2JvbGQgZ3JlZW5de3RvdGFsX2xpdmV9W3doaXRlXVxuIgogICAgcGFuZWxfY29udGVudCArPSBmIltib2xkIHdoaXRlXUhhc2lsIENyZWF0ZSA6IFtib2xkIGdyZWVuXXtTQVZFX0ZJTEV9XG4iCiAgICBwYW5lbF9jb250ZW50ICs9IGYiW2JvbGQgd2hpdGVdTGljZW5zZSBJRDogW2JvbGQgZ3JlZW5de2xpY2Vuc2VfcGFydHN9IgogICAgY29uc29sZS5wcmludChQYW5lbChwYW5lbF9jb250ZW50LCB0aXRsZT0iRkFDRUJPT0sgQ1JFQVRFIiwgc3VidGl0bGU9IlNsbG93bHlEZXZlbG92ZXIiKSkKCmRlZiBzaG93X21lbnVfb25jZSgpOgogICAgbWVudV9wYW5lbCA9IFBhbmVsKAogICAgICAgIGYiW2JvbGQgaXRhbGljIHdoaXRlXSAoMDEpLiBTdGFydCBDcmVhdGUgQWNjb3VudHMgW2JvbGQgaXRhbGljIGdyZWVuXU9OXG4iCiAgICAgICAgZiJbYm9sZCB3aGl0ZV0gKDAyKS4gU2V0IExpbWl0IENyZWF0ZSBbYm9sZCBpdGFsaWMgZ3JlZW5dT05cbiIKICAgICAgICBmIltib2xkIHdoaXRlXSAoMDMpLiBTZXQgU2VtdWEgUGFzc3dvcmQgW2JvbGQgaXRhbGljIGdyZWVuXU9OXG4iCiAgICAgICAgZiJbYm9sZCB3aGl0ZV0gKDA0KS4gVGVtcCBNYWlsIEJhd2FhbiBUb29scyBbYm9sZCBpdGFsaWMgZ3JlZW5deyAnT04nIGlmIHNldHRpbmdzWyd1c2VfdGVtcF9lbWFpbCddIGVsc2UgJ09GRicgfVxuIgogICAgICAgIGYiW2JvbGQgd2hpdGVdICgwNSkuIEVtYWlsIFJlYWwgKEdtYWlsL091dGxvb2svWWFob28pIFtib2xkIGl0YWxpYyBncmVlbl17ICdPTicgaWYgc2V0dGluZ3NbJ3VzZV9yZWFsX2VtYWlsJ10gZWxzZSAnT0ZGJyB9XG4iCiAgICAgICAgZiJbYm9sZCB3aGl0ZV0gKDA2KS4gU3RhcnQgQ2hlY2sgTGl2ZSBVaWQgW2JvbGQgaXRhbGljIGdyZWVuXXsgJ09OJyBpZiBTQVZFX0ZJTEUuZXhpc3RzKCkgZWxzZSAnT0ZGJyB9XG4iCiAgICAgICAgZiJbYm9sZCB3aGl0ZV0gKDA3KS4gS2VsdWFyIERhcmkgUHJvZ3JhbSBDcmVhdGUgW2JvbGQgaXRhbGljIGdyZWVuXU9OIiwKICAgICAgICB0aXRsZT0iTWVudSIsIHN1YnRpdGxlPSJQaWxpaCBhbmdrYSBsYWx1IEVudGVyIgogICAgKQogICAgY29uc29sZS5wcmludChtZW51X3BhbmVsKQoKZGVmIG1lbnUobGljZW5zZV9wYXJ0cyk6CiAgICB3aGlsZSBUcnVlOgogICAgICAgIGNsZWFyX3NjcmVlbigpCiAgICAgICAgc2hvd19oZWFkZXJfb25jZShsaWNlbnNlX3BhcnRzKQogICAgICAgIHNob3dfbWVudV9vbmNlKCkKCiAgICAgICAgdHJ5OgogICAgICAgICAgICBjaG9pY2UgPSBQcm9tcHQuYXNrKCJQaWxpaCIsIGNob2ljZXM9W3N0cihpKSBmb3IgaSBpbiByYW5nZSgxLCA4KV0sIGRlZmF1bHQ9IjEiKQogICAgICAgIGV4Y2VwdCBLZXlib2FyZEludGVycnVwdDoKICAgICAgICAgICAgY29uc29sZS5wcmludCgiXG5bcmVkXURpYmF0YWxrYW4gb2xlaCB1c2VyWy9yZWRdIikKICAgICAgICAgICAgYnJlYWsKCiAgICAgICAgaWYgY2hvaWNlID09ICIxIjoKICAgICAgICAgICAgc3RhcnRfY3JlYXRlX2FjY291bnRzKCkKICAgICAgICBlbGlmIGNob2ljZSA9PSAiMiI6CiAgICAgICAgICAgIHNldF9saW1pdCgpCiAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjMiOgogICAgICAgICAgICBzZXRfcGFzc3dvcmQoKQogICAgICAgIGVsaWYgY2hvaWNlID09ICI0IjoKICAgICAgICAgICAgdG9nZ2xlX3RlbXBfZW1haWwoKQogICAgICAgIGVsaWYgY2hvaWNlID09ICI1IjoKICAgICAgICAgICAgdG9nZ2xlX3JlYWxfZW1haWwoKQogICAgICAgIGVsaWYgY2hvaWNlID09ICI2IjoKICAgICAgICAgICAgY2hlY2tfc2F2ZWRfdWlkKCkKICAgICAgICBlbGlmIGNob2ljZSA9PSAiNyI6CiAgICAgICAgICAgIGNvbnNvbGUucHJpbnQoUGFuZWwoIltib2xkIHJlZF1LZWx1YXIuIFRlcmltYSBrYXNpaC5bL2JvbGQgcmVkXSIpKQogICAgICAgICAgICBicmVhawoKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBNb2R1bGFyIEZ1bmN0aW9ucyBNZW51CiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmRlZiBzdGFydF9jcmVhdGVfYWNjb3VudHMoKToKICAgIGNsZWFyX3NjcmVlbigpCiAgICBzaG93X2hlYWRlcl9vbmNlKGxpY2Vuc2VfcGFydHMpCiAgICBjb25zb2xlLnByaW50KFBhbmVsKCJbYm9sZCB3aGl0ZV1QZW1idWF0YW4gQWt1biBTZWRhbmcgQmVyamFsYW4uIEhhcmFwIE1lbnVuZ2d1Li4uWy9ib2xkIHdoaXRlXSIsIHRpdGxlPSJTdGFydCIpKQogICAgZm9yIF8gaW4gcmFuZ2Uoc2V0dGluZ3NbImxpbWl0Il0pOgogICAgICAgIHJlZ2lzdGVyX2FjY291bnQoKQogICAgaW5wdXQoIlRla2FuIEVudGVyIHVudHVrIGtlbWJhbGkga2UgbWVudS4uLiIpCgpkZWYgc2V0X2xpbWl0KCk6CiAgICBuZXdfbGltaXQgPSBJbnRQcm9tcHQuYXNrKCJNYXN1a2thbiBMaW1pdCAoYW5na2EpIiwgZGVmYXVsdD1zZXR0aW5nc1sibGltaXQiXSkKICAgIHNldHRpbmdzWyJsaW1pdCJdID0gbWF4KDEsIG1pbig5OTk5LCBpbnQobmV3X2xpbWl0KSkpCiAgICBjb25zb2xlLnByaW50KGYiW2dyZWVuXUxpbWl0IGRpcGVyYmFydWkgbWVuamFkaSB7c2V0dGluZ3NbJ2xpbWl0J119Wy9ncmVlbl0iKQogICAgdGltZS5zbGVlcCgyKQoKZGVmIHNldF9wYXNzd29yZCgpOgogICAgbmV3X3B3ID0gUHJvbXB0LmFzaygiSW5wdXQgUGFzc3dvcmQgKGRlZmF1bHQpIiwgZGVmYXVsdD1zZXR0aW5nc1sicGFzc3dvcmQiXSkKICAgIHNldHRpbmdzWyJwYXNzd29yZCJdID0gbmV3X3B3IG9yICJGT1VOREVSIgogICAgY29uc29sZS5wcmludCgiW2dyZWVuXVBhc3N3b3JkIGRpcGVyYmFydWkuWy9ncmVlbl0iKQogICAgdGltZS5zbGVlcCgyKQoKZGVmIHRvZ2dsZV90ZW1wX2VtYWlsKCk6CiAgICBzZXR0aW5nc1sidXNlX3RlbXBfZW1haWwiXSA9IG5vdCBzZXR0aW5ncy5nZXQoInVzZV90ZW1wX2VtYWlsIiwgRmFsc2UpCiAgICBpZiBzZXR0aW5nc1sidXNlX3RlbXBfZW1haWwiXToKICAgICAgICBzZXR0aW5nc1sidXNlX3JlYWxfZW1haWwiXSA9IEZhbHNlCiAgICBjb25zb2xlLnByaW50KGYiW2JsdWVddXNlX3RlbXBfZW1haWwgLT4ge3NldHRpbmdzWyd1c2VfdGVtcF9lbWFpbCddfVsvYmx1ZV0iKQogICAgdGltZS5zbGVlcCgxKQoKZGVmIHRvZ2dsZV9yZWFsX2VtYWlsKCk6CiAgICBzZXR0aW5nc1sidXNlX3JlYWxfZW1haWwiXSA9IG5vdCBzZXR0aW5ncy5nZXQoInVzZV9yZWFsX2VtYWlsIiwgRmFsc2UpCiAgICBpZiBzZXR0aW5nc1sidXNlX3JlYWxfZW1haWwiXToKICAgICAgICBzZXR0aW5nc1sidXNlX3RlbXBfZW1haWwiXSA9IEZhbHNlCiAgICBjb25zb2xlLnByaW50KGYiW2JsdWVddXNlX3JlYWxfZW1haWwgLT4ge3NldHRpbmdzWyd1c2VfcmVhbF9lbWFpbCddfVsvYmx1ZV0iKQogICAgdGltZS5zbGVlcCgxKQoKZGVmIGNoZWNrX3NhdmVkX3VpZCgpOgogICAgaWYgbm90IFNBVkVfRklMRS5leGlzdHMoKToKICAgICAgICBjb25zb2xlLnByaW50KCJbcmVkXUJlbHVtIGFkYSBmaWxlIFVJRCB0ZXJzaW1wYW4uWy9yZWRdIikKICAgICAgICB0aW1lLnNsZWVwKDIpCiAgICAgICAgcmV0dXJuCiAgICB3aXRoIG9wZW4oU0FWRV9GSUxFLCAiciIsIGVuY29kaW5nPSJ1dGYtOCIpIGFzIGY6CiAgICAgICAgbGluZXMgPSBmLnJlYWRsaW5lcygpCiAgICB1aWRfbGlzdCA9IFttLmdyb3VwKDEpIGZvciBsbiBpbiBsaW5lcyBpZiAobSA6PSByZS5zZWFyY2gocidVSUQ6XHMqKFxkKyknLCBsbikpXQogICAgaWYgbm90IHVpZF9saXN0OgogICAgICAgIGNvbnNvbGUucHJpbnQoIltyZWRdQmVsdW0gYWRhIFVJRCB0ZXJzaW1wYW4gZGkgZmlsZS5bL3JlZF0iKQogICAgICAgIHRpbWUuc2xlZXAoMikKICAgICAgICByZXR1cm4KICAgIGNvbnNvbGUucHJpbnQoUGFuZWwoZiJbY3lhbl1NdWxhaSBjZWsge2xlbih1aWRfbGlzdCl9IFVJRC4uLlsvY3lhbl0iLCB0aXRsZT0iQ2hlY2sgVUlEIikpCiAgICBmb3IgdWlka3UgaW4gdWlkX2xpc3Q6CiAgICAgICAgY2hlY2sodWlka3UpCiAgICBjb25zb2xlLnByaW50KCJbZ3JlZW5dU2VsZXNhaSBjZWsgc2VtdWEgVUlELlsvZ3JlZW5dIikKICAgIGlucHV0KCJUZWthbiBFbnRlciB1bnR1ayBrZW1iYWxpIGtlIG1lbnUuLi4iKQoKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBNYWluIFByb2dyYW0KIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIHRyeToKICAgICAgICBmdWxsX2xpY2Vuc2UsIGxpY2Vuc2VfcGFydHMgPSBhcHByb3ZhbCgpCiAgICAgICAgd2hpbGUgVHJ1ZToKICAgICAgICAgICAgbWVudShsaWNlbnNlX3BhcnRzKQogICAgICAgICAgICB0aW1lLnNsZWVwKDEpCiAgICBleGNlcHQgS2V5Ym9hcmRJbnRlcnJ1cHQ6CiAgICAgICAgY29uc29sZS5wcmludCgiXG5bcmVkXURpYmF0YWxrYW4gb2xlaCB1c2VyLiBCeWUuWy9yZWRdIikKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBjb25zb2xlLnByaW50KGYiW3JlZF1UZXJqYWRpIGtlc2FsYWhhbjoge2V9Wy9yZWRdIik=
