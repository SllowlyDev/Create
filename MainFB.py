# Encrypted with Marshal (Reversible)
import marshal, zlib, base64

exec(marshal.loads(zlib.decompress(base64.b64decode(b'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'))))


# __SRC_B64__:IyEvdXNyL2Jpbi9lbnYgcHl0aG9uMwppbXBvcnQgb3MKaW1wb3J0IHN5cwppbXBvcnQgdGltZQppbXBvcnQgcmFuZG9tCmltcG9ydCBzdHJpbmcKaW1wb3J0IGRhdGV0aW1lCmltcG9ydCBnZXRwYXNzCmltcG9ydCBzb2NrZXQKaW1wb3J0IHJlCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIENlayBkYW4gSW1wb3J0IExpYnJhcnkKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KdHJ5OgogICAgaW1wb3J0IHJlcXVlc3RzCiAgICBmcm9tIGJzNCBpbXBvcnQgQmVhdXRpZnVsU291cCBhcyBicwogICAgZnJvbSBmYWtlciBpbXBvcnQgRmFrZXIKICAgIGZyb20gcmljaC5jb25zb2xlIGltcG9ydCBDb25zb2xlCiAgICBmcm9tIHJpY2gucGFuZWwgaW1wb3J0IFBhbmVsCiAgICBmcm9tIHJpY2gudHJlZSBpbXBvcnQgVHJlZQogICAgZnJvbSByaWNoLnByb21wdCBpbXBvcnQgUHJvbXB0LCBJbnRQcm9tcHQKICAgIGZyb20gZmFrZV91c2VyYWdlbnQgaW1wb3J0IFVzZXJBZ2VudApleGNlcHQgSW1wb3J0RXJyb3IgYXMgZToKICAgIHByaW50KGYiW0VSUk9SXSBMaWJyYXJ5IGJlbHVtIHRlcmluc3RhbGw6IHtlfSIpCiAgICBzeXMuZXhpdCgxKQoKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBJbmlzaWFsaXNhc2kgR2xvYmFsCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmNvbnNvbGUgPSBDb25zb2xlKCkKZmFrZXIgPSBGYWtlcihyYW5kb20uY2hvaWNlKFsiZW5fVVMiLCAiZW5fR0IiLCAiaWRfSUQiXSkpCnVhID0gVXNlckFnZW50KCkKCmxpdmUgPSAwCmNwID0gMApsb29wID0gMAoKc2V0dGluZ3MgPSB7CiAgICAibGltaXQiOiAxLAogICAgInBhc3N3b3JkIjogIkZPVU5ERVIiLAogICAgInVzZV90ZW1wX2VtYWlsIjogRmFsc2UsCiAgICAidXNlX3JlYWxfZW1haWwiOiBGYWxzZSwKfQoKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBNZW1iZXJzaWhrYW4gbGF5YXIgdGVybWluYWwKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KZGVmIGNsZWFyX3NjcmVlbigpOgogICAgb3Muc3lzdGVtKCJjbHMiIGlmIG9zLm5hbWUgPT0gIm50IiBlbHNlICJjbGVhciIpCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIE1lbmRhcGF0a2FuIElQIHB1YmxpayBwZW5nZ3VuYQojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpkZWYgZ2V0X3B1YmxpY19pcCgpOgogICAgdHJ5OgogICAgICAgIHJldHVybiByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vYXBpLmlwaWZ5Lm9yZycsIHRpbWVvdXQ9NSkudGV4dAogICAgZXhjZXB0OgogICAgICAgIHJldHVybiAiVGlkYWsgZGFwYXQgbWVuZ2FtYmlsIElQIgogICAgICAgIAojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIE1lbmdoYXNpbGthbiB1c2VyLWFnZW50IGFjYWsKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KZGVmIHVnZW4oKToKICAgIHRyeToKICAgICAgICByZXR1cm4gdWEucmFuZG9tCiAgICBleGNlcHQ6CiAgICAgICAgcmV0dXJuICJNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMTI4LjAuMC4wIFNhZmFyaS81MzcuMzYiCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIE1lbmdla3N0cmFrIG5pbGFpIGZvcm0gaGlkZGVuIGRhcmkgSFRNTAojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpkZWYgZXh0cmFjdF9mb3JtKGh0bWwpOgogICAga2V5cyA9IFsibHNkIiwgImphem9lc3QiLCAiZmJfZHRzZyIsICJyZWdfaW5zdGFuY2UiLCAicmVnX2ltcHJlc3Npb25faWQiLCAibG9nZ2VyX2lkIl0KICAgIGRhdGEgPSB7fQogICAgZm9yIGtleSBpbiBrZXlzOgogICAgICAgIGZvdW5kID0gcmUuc2VhcmNoKHJmJ25hbWU9IntrZXl9IiB2YWx1ZT0iKC4qPykiJywgaHRtbCkKICAgICAgICBpZiBmb3VuZDoKICAgICAgICAgICAgZGF0YVtrZXldID0gZm91bmQuZ3JvdXAoMSkKICAgIHJldHVybiBkYXRhCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIE1lbmdoYXNpbGthbiBlbWFpbCBhdGF1IG5vbW9yIGFjYWsgc2VzdWFpIHBlbmdhdHVyYW4KIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KZGVmIGdldF9lbWFpbCgpOgogICAgaWYgc2V0dGluZ3MuZ2V0KCJ1c2VfdGVtcF9lbWFpbCIsIEZhbHNlKToKICAgICAgICBkb21haW5zID0gWydAbWJveC5yZScsJ0Axc2VjbWFpbC5jb20nLCdAZmV4Ym94Lm9yZycsJ0BmZXhwb3N0LmNvbScsJ0BmZXh0ZW1wLmNvbScsJ0BtYWlsdG8ucGx1cyddCiAgICAgICAgZiJ7ZmFrZXIuZmlyc3RfbmFtZSgpLmxvd2VyKCl9e2Zha2VyLmxhc3RfbmFtZSgpLmxvd2VyKCl9e3JhbmRvbS5yYW5kaW50KDEwLDk5OSl9LntkYXRldGltZS5ub3coKS5zdHJmdGltZSgnJUglTSVTJWYnKX17cmFuZG9tLmNob2ljZShkb21haW5zKX0iCiAgICBlbGlmIHNldHRpbmdzLmdldCgidXNlX3JlYWxfZW1haWwiLCBGYWxzZSk6CiAgICAgICAgZG9tYWlucyA9IFsnQGdtYWlsLmNvbScsJ0BvdXRsb29rLmNvbScsJ0B5YWhvby5jb20nXQogICAgICAgIHJldHVybiBmIntmYWtlci5maXJzdF9uYW1lKCkubG93ZXIoKX17ZmFrZXIubGFzdF9uYW1lKCkubG93ZXIoKX17cmFuZG9tLnJhbmRpbnQoMTAsOTk5KX17cmFuZG9tLmNob2ljZShkb21haW5zKX0iCiAgICBlbHNlOgogICAgICAgIHJldHVybiAiKzYyODk1IitzdHIocmFuZG9tLnJhbmRpbnQoMTExMTExMTEsOTk5OTk5OTkpKQogICAgICAgIAojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIENoZWNrIE5hbWEgUHJvZmlsZSBMaXZlCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmRlZiBnZXRfZmFjZWJvb2tfcHJvZmlsZV9pbmZvKHVpZCk6CiAgICB0cnk6CiAgICAgICAgciA9IHJlcXVlc3RzLmdldChmJ2h0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS97dWlkfScsIHRpbWVvdXQ9MTApCiAgICAgICAgaWYgci5zdGF0dXNfY29kZT09MjAwOgogICAgICAgICAgICBzb3VwID0gYnMoci50ZXh0LCdodG1sLnBhcnNlcicpCiAgICAgICAgICAgIHRpdGxlID0gc291cC5maW5kKCd0aXRsZScpLnRleHQgaWYgc291cC5maW5kKCd0aXRsZScpIGVsc2UgIiIKICAgICAgICAgICAgcmV0dXJuIHRpdGxlIGlmIHRpdGxlIGVsc2UgIk5hbWEgdGlkYWsgZGl0ZW11a2FuIgogICAgICAgIHJldHVybiAiUHJvZmlsIHRpZGFrIGRhcGF0IGRpYWtzZXMiCiAgICBleGNlcHQ6CiAgICAgICAgcmV0dXJuICJFcnJvciBzYWF0IG1lbmdha3NlcyBwcm9maWwiCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIENoZWNrIFVJRCBTdGF0dXMKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KZGVmIGNoZWNrKHVpZGt1KToKICAgIHRyeToKICAgICAgICByID0gcmVxdWVzdHMuZ2V0KGYnaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL3t1aWRrdX0nLCB0aW1lb3V0PTEwKQogICAgICAgIGlmIHIuc3RhdHVzX2NvZGUgPT0gMjAwOgogICAgICAgICAgICBzb3VwID0gYnMoci50ZXh0LCAnaHRtbC5wYXJzZXInKQogICAgICAgICAgICB0aXRsZSA9IHNvdXAuZmluZCgndGl0bGUnKS50ZXh0IGlmIHNvdXAuZmluZCgndGl0bGUnKSBlbHNlICIiCiAgICAgICAgICAgIG5hbWEgPSB0aXRsZSBpZiB0aXRsZSBlbHNlICJOYW1hIHRpZGFrIGRpdGVtdWthbiIKICAgICAgICAgICAgY29uc29sZS5wcmludChmIltncmVlbl1VSUQge3VpZGt1fSAtPiB7bmFtYX1bL2dyZWVuXSIpCiAgICAgICAgICAgIHJldHVybiBuYW1hCiAgICAgICAgZWxzZToKICAgICAgICAgICAgY29uc29sZS5wcmludChmIltyZWRdVUlEIHt1aWRrdX0gdGlkYWsgZGFwYXQgZGlha3Nlc1svcmVkXSIpCiAgICAgICAgICAgIHJldHVybiBOb25lCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgY29uc29sZS5wcmludChmIltyZWRdRXJyb3Igc2FhdCBtZW5nYWtzZXMgVUlEIHt1aWRrdX06IHtlfVsvcmVkXSIpCiAgICAgICAgcmV0dXJuIE5vbmUKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgTGlzZW5zaSAvIEFwcHJvdmFsCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmRlZiBhcHByb3ZhbCgpOgogICAgY2xlYXJfc2NyZWVuKCkKICAgIHRpbWUuc2xlZXAoMC41KQoKICAgIHRyeToKICAgICAgICBkZXZpY2VfaWQgPSBzdHIob3MuZ2V0ZXVpZCgpKSArIHN0cihvcy5nZXRsb2dpbigpKQogICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICBkZXZpY2VfaWQgPSBnZXRwYXNzLmdldHVzZXIoKSArICItIiArIHNvY2tldC5nZXRob3N0bmFtZSgpCgogICAgZGV2aWNlX25hbWUgPSBzb2NrZXQuZ2V0aG9zdG5hbWUoKS51cHBlcigpCiAgICByYW5kb20uc2VlZChkZXZpY2VfaWQpCgogICAgZGVmIHJhbmRvbV9kaWdpdCgpOiByZXR1cm4gc3RyKHJhbmRvbS5yYW5kaW50KDAsIDkpKQogICAgZGVmIHJhbmRvbV9sZXR0ZXIoKTogcmV0dXJuIHJhbmRvbS5jaG9pY2UoJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaJykKCiAgICBsZXR0ZXJzX2Zyb21fZGV2aWNlID0gW2MgZm9yIGMgaW4gZGV2aWNlX25hbWUgaWYgYy5pc2FscGhhKCldCiAgICBpZiBsZW4obGV0dGVyc19mcm9tX2RldmljZSkgPCA0OgogICAgICAgIGxldHRlcnNfZnJvbV9kZXZpY2UgKz0gW3JhbmRvbV9sZXR0ZXIoKSBmb3IgXyBpbiByYW5nZSg0IC0gbGVuKGxldHRlcnNfZnJvbV9kZXZpY2UpKV0KCiAgICBsaWNlbnNlX3BhcnRzID0gWwogICAgICAgIGYie3JhbmRvbV9kaWdpdCgpfXtyYW5kb21fZGlnaXQoKX0te2xldHRlcnNfZnJvbV9kZXZpY2VbMF19e2xldHRlcnNfZnJvbV9kZXZpY2VbMV19IiwKICAgICAgICBmIntyYW5kb21fZGlnaXQoKX17cmFuZG9tX2RpZ2l0KCl9LXtsZXR0ZXJzX2Zyb21fZGV2aWNlWzJdfXtsZXR0ZXJzX2Zyb21fZGV2aWNlWzNdfSIsCiAgICAgICAgZiJ7cmFuZG9tX2RpZ2l0KCl9e3JhbmRvbV9kaWdpdCgpfS17cmFuZG9tX2xldHRlcigpfXtyYW5kb21fbGV0dGVyKCl9IiwKICAgICAgICBmIntyYW5kb21fZGlnaXQoKX17cmFuZG9tX2RpZ2l0KCl9LXtyYW5kb21fbGV0dGVyKCl9e3JhbmRvbV9sZXR0ZXIoKX0iLAogICAgXQogICAgZnVsbF9saWNlbnNlID0gIkZPVU5ERVItIiArICItIi5qb2luKGxpY2Vuc2VfcGFydHMpCgogICAgY29uc29sZS5wcmludChQYW5lbChmIkxpc2Vuc2kgRGVmYXVsdCA6IFtib2xkIGdyZWVuXXtmdWxsX2xpY2Vuc2V9Wy9ib2xkIGdyZWVuXSIsIHRpdGxlPSJJTkZPIExJU0VOU0kiKSkKICAgIHRpbWUuc2xlZXAoMC41KQoKICAgIG5vdyA9IGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpCiAgICB0YW5nZ2FsID0gbm93LmRheQogICAgYnVsYW5fbmFtYSA9IG5vdy5zdHJmdGltZSgiJUIiKQogICAgYnVsYW5fYW5na2EgPSBub3cuc3RyZnRpbWUoIiVtIikKICAgIHdha3R1X2RhZnRhciA9IG5vdy5zdHJmdGltZSgiJUg6JU06JVMiKQogICAgaXBfYWRkcmVzcyA9IGdldF9wdWJsaWNfaXAoKQoKICAgIHRyeToKICAgICAgICB1cmxfa2V5cyA9ICJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vU2xsb3dseURldi9hcGEvcmVmcy9oZWFkcy9tYWluL2tleXMiCiAgICAgICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5nZXQodXJsX2tleXMpCiAgICAgICAgdmFsaWRfa2V5cyA9IFt4LnN0cmlwKCkgZm9yIHggaW4gcmVzcG9uc2UudGV4dC5zcGxpdGxpbmVzKCkgaWYgeC5zdHJpcCgpXQogICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICBjb25zb2xlLnByaW50KFBhbmVsKCJbYm9sZCByZWRdR2FnYWwgbWVuZ2FtYmlsIGRhdGEgbGlzZW5zaS4gUGFzdGlrYW4ga29uZWtzaSBpbnRlcm5ldCBha3RpZiFbL2JvbGQgcmVkXSIsIHRpdGxlPSJFUlJPUiIpKQogICAgICAgIHN5cy5leGl0KDEpCgogICAgaWYgZnVsbF9saWNlbnNlIGluIHZhbGlkX2tleXM6CiAgICAgICAgY29uc29sZS5wcmludChQYW5lbCgiW2JvbGQgZ3JlZW5dTGlzZW5zaSBWYWxpZCEgU2VsYW1hdCBkYXRhbmcuWy9ib2xkIGdyZWVuXSIsIHRpdGxlPSJTVUNDRVNTIikpCiAgICAgICAgdGltZS5zbGVlcCgxKQogICAgICAgIHJldHVybiBmdWxsX2xpY2Vuc2UKICAgIGVsc2U6CiAgICAgICAgY29uc29sZS5wcmludChQYW5lbCgiW2JvbGQgeWVsbG93XUxpc2Vuc2kgYmVsdW0gZGlrb25maXJtYXNpLlxuTWVuZ2lyaW0ga2UgV2hhdHNBcHAgYWRtaW4uLi5bL2JvbGQgeWVsbG93XSIsIHRpdGxlPSJJTkZPIikpCiAgICAgICAgdGltZS5zbGVlcCgxKQogICAgICAgIHBlc2FuID0gKAogICAgICAgICAgICBmIipMSVNFTlNJKiA6IHtmdWxsX2xpY2Vuc2V9XG4iCiAgICAgICAgICAgIGYiKlRhbmdnYWwgRGFmdGFyKiA6IHt0YW5nZ2FsfVxuIgogICAgICAgICAgICBmIipCdWxhbiBEYWZ0YXIqIDoge2J1bGFuX25hbWF9IHtidWxhbl9hbmdrYX1cbiIKICAgICAgICAgICAgZiIqV2FrdHUgRGFmdGFyKiA6IHt3YWt0dV9kYWZ0YXJ9XG4iCiAgICAgICAgICAgIGYiKk5hbWEgRGV2aWNlKiA6IHtkZXZpY2VfbmFtZX1cbiIKICAgICAgICAgICAgZiIqQWxhbWF0IElQKiA6IHtpcF9hZGRyZXNzfSIKICAgICAgICApCiAgICAgICAgbGlua193aGF0c2FwcCA9IGYiaHR0cHM6Ly93YS5tZS82Mjg4MTAyMzM4NzE0MD90ZXh0PXtwZXNhbi5yZXBsYWNlKCcgJywgJyUyMCcpLnJlcGxhY2UoY2hyKDEwKSwgJyUwQScpfSIKICAgICAgICBvcy5zeXN0ZW0oZiJ4ZGctb3BlbiAne2xpbmtfd2hhdHNhcHB9JyIpCiAgICAgICAgc3lzLmV4aXQoMCkKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgUmVnaXN0ZXIgYWt1biBGYWNlYm9vayBiYXJ1IGRhbiBzaW1wYW4gaGFzaWwKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KZGVmIHJlZ2lzdGVyX2FjY291bnQoKToKICAgIGdsb2JhbCBsaXZlLCBjcCwgbG9vcAogICAgbG9vcCArPSAxIAogICAgY29uc29sZS5wcmludCgKICAgICAgICBmIltncmV5NTBd4pSA4pSAPiAoW2dyZWVuXUFrdW4tPntsb29wfVtncmV5NTBdKSDigJQgIgogICAgICAgIGYiW2dyZXk1MF0oW2dyZWVuXVN1Y2Nlc3NbZ3JleTUwXTpbZ3JlZW5de2xpdmV9W2dyZXk1MF0vIgogICAgICAgIGYiW3JlZF1DaGVja1tncmV5NTBdOltyZWRde2NwfVtncmV5NTBdKSIsCiAgICAgICAgZW5kPSJcciIKICAgICkKICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgdHJ5OgogICAgICAgIHNlcyA9IHJlcXVlc3RzLlNlc3Npb24oKQogICAgICAgIHJlcyA9IHNlcy5nZXQoImh0dHBzOi8vbS5mYWNlYm9vay5jb20vcmVnIiwgdGltZW91dD0xNSkKICAgICAgICBmb3JtID0gZXh0cmFjdF9mb3JtKHJlcy50ZXh0KQogICAgICAgIGZuYW1lID0gZmFrZXIuZmlyc3RfbmFtZSgpLmxvd2VyKCkgKyAiICIgKyBmYWtlci5sYXN0X25hbWUoKS5sb3dlcigpCiAgICAgICAgbG5hbWUgPSBmYWtlci5sYXN0X25hbWUoKS5sb3dlcigpCiAgICAgICAgZW1haWwgPSBnZXRfZW1haWwoKQogICAgICAgIHBhc3N3b3JkID0gc2V0dGluZ3NbInBhc3N3b3JkIl0KICAgICAgICBiaXJ0aF9kYXkgPSBmIntyYW5kb20ucmFuZGludCgxLDI4KTowMmR9IgogICAgICAgIGJpcnRoX21vbnRoID0gZiJ7cmFuZG9tLnJhbmRpbnQoMSwxMik6MDJkfSIKICAgICAgICBiaXJ0aF95ZWFyID0gc3RyKHJhbmRvbS5yYW5kaW50KDE5ODAsMjAwMCkpCiAgICAgICAgZ2VuZGVyX2NvZGUgPSByYW5kb20uY2hvaWNlKFsiMSIsIjIiXSkKICAgICAgICBnZW5kZXIgPSAiUGVyZW1wdWFuIiBpZiBnZW5kZXJfY29kZSA9PSAiMSIgZWxzZSAiTGFraS1sYWtpIgogICAgICAgIHBheWxvYWQgPSB7CiAgICAgICAgICAgICJsc2QiOiBmb3JtLmdldCgibHNkIiwiIiksCiAgICAgICAgICAgICJqYXpvZXN0IjogZm9ybS5nZXQoImphem9lc3QiLCIiKSwKICAgICAgICAgICAgImZiX2R0c2ciOiBmb3JtLmdldCgiZmJfZHRzZyIsIiIpLAogICAgICAgICAgICAicmVnX2luc3RhbmNlIjogZm9ybS5nZXQoInJlZ19pbnN0YW5jZSIsIiIpLAogICAgICAgICAgICAicmVnX2ltcHJlc3Npb25faWQiOiBmb3JtLmdldCgicmVnX2ltcHJlc3Npb25faWQiLCIiKSwKICAgICAgICAgICAgImxvZ2dlcl9pZCI6IGZvcm0uZ2V0KCJsb2dnZXJfaWQiLCIiKSwKICAgICAgICAgICAgImZpcnN0bmFtZSI6IGZuYW1lLAogICAgICAgICAgICAibGFzdG5hbWUiOiBsbmFtZSwKICAgICAgICAgICAgImJpcnRoZGF5X2RheSI6IGJpcnRoX2RheSwKICAgICAgICAgICAgImJpcnRoZGF5X21vbnRoIjogYmlydGhfbW9udGgsCiAgICAgICAgICAgICJiaXJ0aGRheV95ZWFyIjogYmlydGhfeWVhciwKICAgICAgICAgICAgInNleCI6IGdlbmRlcl9jb2RlLAogICAgICAgICAgICAicmVnX2VtYWlsX18iOiBlbWFpbCwKICAgICAgICAgICAgInJlZ19wYXNzd2RfXyI6IHBhc3N3b3JkLAogICAgICAgICAgICAiZW5jcGFzcyI6IGYiI1BXRF9CUk9XU0VSOjA6e2ludCh0aW1lLnRpbWUoKSl9OntwYXNzd29yZH0iLAogICAgICAgICAgICAic3VibWl0IjogIkRhZnRhciIsCiAgICAgICAgfQogICAgICAgIGhlYWRlcnMgPSB7CiAgICAgICAgICAgICJhdXRob3JpdHkiOiAibS5mYWNlYm9vay5jb20iLAogICAgICAgICAgICAiYWNjZXB0IjogInRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LCovKjtxPTAuOCIsCiAgICAgICAgICAgICJhY2NlcHQtbGFuZ3VhZ2UiOiAiaWQtSUQsaWQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjciLAogICAgICAgICAgICAiY2FjaGUtY29udHJvbCI6ICJtYXgtYWdlPTAiLAogICAgICAgICAgICAib3JpZ2luIjogImh0dHBzOi8vbS5mYWNlYm9vay5jb20iLAogICAgICAgICAgICAicmVmZXJlciI6ICJodHRwczovL20uZmFjZWJvb2suY29tL3JlZyIsCiAgICAgICAgICAgICJzZWMtY2gtdWEiOiAnIkNocm9taXVtIjt2PSIxMjgiLCAiR29vZ2xlIENocm9tZSI7dj0iMTI4IiwgIk5vdC1BLkJyYW5kIjt2PSIyNCInLAogICAgICAgICAgICAic2VjLWNoLXVhLW1vYmlsZSI6ICI/MSIsCiAgICAgICAgICAgICJzZWMtY2gtdWEtcGxhdGZvcm0iOiAnIkFuZHJvaWQiJywKICAgICAgICAgICAgInNlYy1mZXRjaC1kZXN0IjogImRvY3VtZW50IiwKICAgICAgICAgICAgInNlYy1mZXRjaC1tb2RlIjogIm5hdmlnYXRlIiwKICAgICAgICAgICAgInNlYy1mZXRjaC1zaXRlIjogInNhbWUtb3JpZ2luIiwKICAgICAgICAgICAgInNlYy1mZXRjaC11c2VyIjogIj8xIiwKICAgICAgICAgICAgInVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMiOiAiMSIsCiAgICAgICAgICAgICJ1c2VyLWFnZW50IjogdWdlbigpCiAgICAgICAgfQogICAgICAgIHJlZyA9IHNlcy5wb3N0KCJodHRwczovL20uZmFjZWJvb2suY29tL3JlZy9zdWJtaXQvIiwgZGF0YT1wYXlsb2FkLCBoZWFkZXJzPWhlYWRlcnMsIHRpbWVvdXQ9MTUpCiAgICAgICAgY29va2llcyA9IHNlcy5jb29raWVzLmdldF9kaWN0KCkKICAgICAgICBpZiAiY191c2VyIiBpbiBjb29raWVzOgogICAgICAgICAgICB1aWQgPSBjb29raWVzWyJjX3VzZXIiXQogICAgICAgICAgICBjb29raWVfc3RyID0gIjsgIi5qb2luKFtmIntrfT17dn0iIGZvciBrLCB2IGluIGNvb2tpZXMuaXRlbXMoKV0pCiAgICAgICAgICAgIHByb2ZpbGVfbmFtZSA9IGdldF9mYWNlYm9va19wcm9maWxlX2luZm8odWlkKQogICAgICAgICAgICBpZiBwcm9maWxlX25hbWUgYW5kICJGYWNlYm9vayIgbm90IGluIHByb2ZpbGVfbmFtZToKICAgICAgICAgICAgICAgIGxpdmUgKz0gMQogICAgICAgICAgICAgICAgdHJlZSA9IFRyZWUoZiJbYm9sZCB3aGl0ZV1Ba3VuIEJlcmhhc2lsIERpYnVhdCDigJQgVUlEIFtncmVlbl17dWlkfSDinIVbL10iKQogICAgICAgICAgICAgICAgYWt1bl90cmVlID0gdHJlZS5hZGQoIltncmVlbl1JbmZvcm1hc2kgQWt1biBMZW5na2FwWy9dIikKICAgICAgICAgICAgICAgIGFrdW5fdHJlZS5hZGQoZiJbYm9sZCB3aGl0ZV1OYW1hIExlbmdrYXBbL106IFtib2xkIGdyZWVuXXtwcm9maWxlX25hbWV9Wy9dIikKICAgICAgICAgICAgICAgIGFrdW5fdHJlZS5hZGQoZiJbYm9sZCB3aGl0ZV1VSURbL106IFtib2xkIGdyZWVuXXt1aWR9Wy9dIikKICAgICAgICAgICAgICAgIGFrdW5fdHJlZS5hZGQoZiJbYm9sZCB3aGl0ZV1QYXNzd29yZFsvXTogW2JvbGQgZ3JlZW5de3Bhc3N3b3JkfVsvXSIpCiAgICAgICAgICAgICAgICBha3VuX3RyZWUuYWRkKGYiW2JvbGQgd2hpdGVdRW1haWwgLyBOb21vclsvXTogW2JvbGQgZ3JlZW5de2VtYWlsfVsvXSIpCiAgICAgICAgICAgICAgICBha3VuX3RyZWUuYWRkKGYiW2JvbGQgd2hpdGVdSmVuaXMgS2VsYW1pblsvXTogW2JvbGQgZ3JlZW5de2dlbmRlcn1bL10iKQogICAgICAgICAgICAgICAgYWt1bl90cmVlLmFkZChmIltib2xkIHdoaXRlXVRhbmdnYWwgTGFoaXJbL106IFtib2xkIGdyZWVuXXtiaXJ0aF9kYXl9LXtiaXJ0aF9tb250aH0te2JpcnRoX3llYXJ9Wy9dIikKICAgICAgICAgICAgICAgIGFrdW5fdHJlZS5hZGQoZiJbYm9sZCB3aGl0ZV1Db29raWVbL106IFtib2xkIGdyZWVuXXtjb29raWVfc3RyfVsvXSIpCiAgICAgICAgICAgICAgICBjb25zb2xlLnByaW50KHRyZWUpCiAgICAgICAgICAgICAgICB3aXRoIG9wZW4oIi9zZGNhcmQvRkFDRUJPT0tNRS9mYmZyZXNobXUudHh0IiwgImEiKSBhcyBmOgogICAgICAgICAgICAgICAgICAgIGYud3JpdGUoZiJ7dWlkfXx7cGFzc3dvcmR9XG4iKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgY3AgKz0gMQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGNwICs9IDEKICAgICAgICB0aW1lLnNsZWVwKHJhbmRvbS51bmlmb3JtKDUsIDEwKSkKICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLlJlcXVlc3RFeGNlcHRpb246CiAgICAgICAgdGltZS5zbGVlcChyYW5kb20udW5pZm9ybSg1LCAxMCkpCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIE1lbnUgSGVhZGVyCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmRlZiBzaG93X2hlYWRlcl9vbmNlKGxpY2Vuc2VfcGFydHMsIGZpbGVwYXRoPSIvc2RjYXJkL0ZBQ0VCT09LTUUvZmJmcmVzaG11LnR4dCIsIHNldHRpbmdzPU5vbmUpOgogICAgc2V0dGluZ3MgPSBzZXR0aW5ncyBvciB7fQogICAgdG90YWxfbGl2ZSA9IDAKICAgIHRyeToKICAgICAgICB3aXRoIG9wZW4oZmlsZXBhdGgsICJyIiwgZW5jb2Rpbmc9InV0Zi04IikgYXMgZmg6CiAgICAgICAgICAgIGZvciBsbiBpbiBmaDoKICAgICAgICAgICAgICAgIGxuID0gbG4uc3RyaXAoKQogICAgICAgICAgICAgICAgaWYgbm90IGxuOgogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgICAgICBwYXJ0cyA9IGxuLnNwbGl0KCJ8IikKICAgICAgICAgICAgICAgIGlmIGxlbihwYXJ0cykgPj0gMiBhbmQgcGFydHNbMF0gYW5kIHBhcnRzWzFdOgogICAgICAgICAgICAgICAgICAgIHRvdGFsX2xpdmUgKz0gMQogICAgZXhjZXB0IEZpbGVOb3RGb3VuZEVycm9yOgogICAgICAgIGNvbnNvbGUucHJpbnQoZiJbYm9sZCByZWRdRmlsZSB0aWRhayBkaXRlbXVrYW46IHtmaWxlcGF0aH1bL2JvbGQgcmVkXSIpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgY29uc29sZS5wcmludChmIltib2xkIHJlZF1FcnJvciBtZW1iYWNhIGZpbGUge2ZpbGVwYXRofToge2V9Wy9ib2xkIHJlZF0iKQogICAgbGltaXQgPSBzZXR0aW5ncy5nZXQoJ2xpbWl0JywgJ04vQScpCiAgICB1c2VfdGVtcCA9IHNldHRpbmdzLmdldCgndXNlX3RlbXBfZW1haWwnLCBGYWxzZSkKICAgIHVzZV9yZWFsID0gc2V0dGluZ3MuZ2V0KCd1c2VfcmVhbF9lbWFpbCcsIEZhbHNlKQogICAgdXNlX2RlZmF1bHQgPSBzZXR0aW5ncy5nZXQoJ3VzZV9kZWZhdWx0JywgRmFsc2UpCiAgICB0cnk6CiAgICAgICAgREFSSyA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1NsbG93bHlEZXYvYXBhL21haW4va2V5cyIpLnRleHQKICAgICAgICBhY3RpdmVfdXNlcnMgPSBsZW4oREFSSy5zcGxpdGxpbmVzKCkpCiAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgIGFjdGl2ZV91c2VycyA9IDAKICAgIHBhbmVsX2NvbnRlbnQgPSBmIiIiW2JvbGQgd2hpdGVdVG90YWwgTGl2ZSAoZmlsZSk6IFtib2xkIGdyZWVuXXt0b3RhbF9saXZlfVt3aGl0ZV1cbltib2xkIHdoaXRlXUhhc2lsIENyZWF0ZSA6IFtib2xkIGdyZWVuXS9zZGNhcmQvRkFDRUJPT0tNRS9mYmZyZXNobXUudHh0Cltib2xkIHdoaXRlXUxpY2Vuc2UgSUQ6IFtib2xkIGdyZWVuXXtsaWNlbnNlX3BhcnRzfQpbYm9sZCB3aGl0ZV1QZW5nZ3VuYSBBa3RpZiAobGlzZW5zaSk6IHthY3RpdmVfdXNlcnN9IiIiCiAgICBjb25zb2xlLnByaW50KFBhbmVsKHBhbmVsX2NvbnRlbnQsIHRpdGxlPSJGQUNFQk9PSyBDUkVBVEUiLCBzdWJ0aXRsZT0iU2xsb3dseURldmVsb3ZlciIpKQoKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBNZW51IAojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpkZWYgc2hvd19tZW51X29uY2UoKToKICAgIG1lbnVfcGFuZWwgPSBQYW5lbCgKICAgICAgICBmIltib2xkIGl0YWxpYyB3aGl0ZV0gKDAxKS4gU3RhcnQgQ3JlYXRlIEFjY291bnRzIFtib2xkIGl0YWxpYyBncmVlbl1PTlxuIgogICAgICAgIGYiW2JvbGQgd2hpdGVdICgwMikuIFNldCBMaW1pdCBDcmVhdGUgW2JvbGQgaXRhbGljIGdyZWVuXU9OXG4iCiAgICAgICAgZiJbYm9sZCB3aGl0ZV0gKDAzKS4gU2V0IFNlbXVhIFBhc3N3b3JkIFtib2xkIGl0YWxpYyBncmVlbl1PTlxuIgogICAgICAgIGYiW2JvbGQgd2hpdGVdICgwNCkuIFRlbXAgTWFpbCBCYXdhYW4gVG9vbHMgW2JvbGQgaXRhbGljIGdyZWVuXXtzZXR0aW5nc1sndXNlX3RlbXBfZW1haWwnXX1cbiIKICAgICAgICBmIltib2xkIHdoaXRlXSAoMDUpLiBFbWFpbCBSZWFsIChHbWFpbC9PdXRsb29rL1lhaG9vKSBbYm9sZCBpdGFsaWMgZ3JlZW5de3NldHRpbmdzWyd1c2VfcmVhbF9lbWFpbCddfVxuIgogICAgICAgIGYiW2JvbGQgd2hpdGVdICgwNikuIFN0YXJ0IENoZWNrIExpdmUgVWlkIFtib2xkIGl0YWxpYyBncmVlbl1PTlxuIgogICAgICAgIGYiW2JvbGQgd2hpdGVdICgwNykuIEtlbHVhciBEYXJpIFByb2dyYW0gQ3JlYXRlIFtib2xkIGl0YWxpYyBncmVlbl1PTiIsCiAgICAgICAgdGl0bGU9Ik1lbnUiLCBzdWJ0aXRsZT0iUGlsaWggYW5na2EgbGFsdSBFbnRlciIKICAgICkKICAgIGNvbnNvbGUucHJpbnQobWVudV9wYW5lbCkKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgTWVuYW1waWxrYW4gbWVudSB1dGFtYSBzZWthbGkKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KZGVmIG1lbnUoKToKICAgIHdoaWxlIFRydWU6CiAgICAgICAgb3Muc3lzdGVtKCJjbHMiIGlmIG9zLm5hbWUgPT0gIm50IiBlbHNlICJjbGVhciIpCiAgICAgICAgc2hvd19oZWFkZXJfb25jZShsaWNlbnNlX3BhcnRzKQogICAgICAgIHNob3dfbWVudV9vbmNlKCkKICAgICAgICB0cnk6CiAgICAgICAgICAgIGNob2ljZSA9IFByb21wdC5hc2soIlBpbGloIiwgY2hvaWNlcz1bc3RyKGkpIGZvciBpIGluIHJhbmdlKDEsOSldLCBkZWZhdWx0PSIxIikKICAgICAgICBleGNlcHQgS2V5Ym9hcmRJbnRlcnJ1cHQ6CiAgICAgICAgICAgIGNvbnNvbGUucHJpbnQoIlxuW3JlZF1EaWJhdGFsa2FuIG9sZWggdXNlclsvcmVkXSIpCiAgICAgICAgICAgIGJyZWFrCgogICAgICAgIGlmIGNob2ljZSA9PSAiMSI6CiAgICAgICAgICAgIG9zLnN5c3RlbSgiY2xlYXIiKQogICAgICAgICAgICBzaG93X2hlYWRlcl9vbmNlKGxpY2Vuc2VfcGFydHMpCiAgICAgICAgICAgIGNvbnNvbGUucHJpbnQoUGFuZWwoIltib2xkIHdoaXRlXUhhc2lsIENyZWF0ZSBGYWNlYm9vayBEaXNpbXBhbiBEaSAvc2RjYXJkL2ZiZnJlc2gudHh0IiwgdGl0bGU9IlN0YXJ0IikpCiAgICAgICAgICAgIGZvciBfIGluIHJhbmdlKHNldHRpbmdzWyJsaW1pdCJdKToKICAgICAgICAgICAgICAgIHJlZ2lzdGVyX2FjY291bnQoKQogICAgICAgICAgICBpbnB1dCgiVGVrYW4gRW50ZXIgdW50dWsga2VtYmFsaSBrZSBtZW51Li4uIik7IGFwcHJvdmFsKCkKCiAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjIiOgogICAgICAgICAgICBuZXdfbGltaXQgPSBJbnRQcm9tcHQuYXNrKCJNYXN1a2thbiBMaW1pdCAoYW5na2EpIiwgZGVmYXVsdD1zZXR0aW5nc1sibGltaXQiXSkKICAgICAgICAgICAgbmV3X2xpbWl0ID0gbWF4KDEsIG1pbig5OTk5LCBpbnQobmV3X2xpbWl0KSkpCiAgICAgICAgICAgIHNldHRpbmdzWyJsaW1pdCJdID0gbmV3X2xpbWl0CiAgICAgICAgICAgIHRpbWUuc2xlZXAoMikKCiAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjMiOgogICAgICAgICAgICBuZXdfcHcgPSBQcm9tcHQuYXNrKCJJbnB1dCBQYXNzd29yZCwgZGVmYXVsdCIsIGRlZmF1bHQ9c2V0dGluZ3NbInBhc3N3b3JkIl0pCiAgICAgICAgICAgIHNldHRpbmdzWyJwYXNzd29yZCJdID0gbmV3X3B3IG9yICJGT1VOREVSIgogICAgICAgICAgICBjb25zb2xlLnByaW50KCJbZ3JlZW5dUGFzc3dvcmQgZGlwZXJiYXJ1aS5bL2dyZWVuXSIpCiAgICAgICAgICAgIHRpbWUuc2xlZXAoMikKCiAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjQiOgogICAgICAgICAgICBzZXR0aW5nc1sidXNlX3RlbXBfZW1haWwiXSA9IG5vdCBzZXR0aW5nc1sidXNlX3RlbXBfZW1haWwiXQogICAgICAgICAgICBjb25zb2xlLnByaW50KGYiW2JsdWVddXNlX3RlbXBfZW1haWwgLT4ge3NldHRpbmdzWyd1c2VfdGVtcF9lbWFpbCddfVsvYmx1ZV0iKQogICAgICAgICAgICB0aW1lLnNsZWVwKDEpCgogICAgICAgIGVsaWYgY2hvaWNlID09ICI1IjoKICAgICAgICAgICAgc2V0dGluZ3NbInVzZV9yZWFsX2VtYWlsIl0gPSBub3Qgc2V0dGluZ3MuZ2V0KCJ1c2VfcmVhbF9lbWFpbCIsIEZhbHNlKQogICAgICAgICAgICBjb25zb2xlLnByaW50KGYiW2JsdWVddXNlX3JlYWxfZW1haWwgLT4ge3NldHRpbmdzWyd1c2VfcmVhbF9lbWFpbCddfVsvYmx1ZV0iKQogICAgICAgICAgICB0aW1lLnNsZWVwKDEpCiAgICAgICAgICAgIAogICAgICAgIGVsaWYgY2hvaWNlID09ICI2IjoKICAgICAgICAgICAgZmlsZXBhdGggPSAiL3NkY2FyZC9mYmZyZXNoLnR4dCIKICAgICAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKGZpbGVwYXRoKToKICAgICAgICAgICAgICAgIGNvbnNvbGUucHJpbnQoIltyZWRdQmVsdW0gYWRhIGZpbGUgVUlEIHRlcnNpbXBhbi5bL3JlZF0iKQogICAgICAgICAgICAgICAgdGltZS5zbGVlcCgyKQogICAgICAgICAgICAgICAgY29udGludWUKCiAgICAgICAgICAgIHdpdGggb3BlbihmaWxlcGF0aCwgInIiKSBhcyBmOgogICAgICAgICAgICAgICAgbGluZXMgPSBmLnJlYWRsaW5lcygpCgogICAgICAgICAgICBpZiBub3QgbGluZXM6CiAgICAgICAgICAgICAgICBjb25zb2xlLnByaW50KCJbcmVkXUZpbGUga29zb25nLCBiZWx1bSBhZGEgYWt1bi5bL3JlZF0iKQogICAgICAgICAgICAgICAgdGltZS5zbGVlcCgyKQogICAgICAgICAgICAgICAgY29udGludWUKCiAgICAgICAgICAgIGNvbnNvbGUucHJpbnQoUGFuZWwoZiJbY3lhbl1NdWxhaSBjZWsge2xlbihsaW5lcyl9IFVJRC4uLlsvY3lhbl0iLCB0aXRsZT0iQ2hlY2sgVUlEIikpCiAgICAgICAgICAgIGZvciBsaW5lIGluIGxpbmVzOgogICAgICAgICAgICAgICAgcGFydHMgPSBsaW5lLnN0cmlwKCkuc3BsaXQoInwiKQogICAgICAgICAgICAgICAgaWYgcGFydHM6CiAgICAgICAgICAgICAgICAgICAgdWlka3UgPSBwYXJ0c1swXQogICAgICAgICAgICAgICAgICAgIGNoZWNrKHVpZGt1KQoKICAgICAgICAgICAgY29uc29sZS5wcmludCgiW2dyZWVuXVNlbGVzYWkgY2VrIHNlbXVhIFVJRC5bL2dyZWVuXSIpCiAgICAgICAgICAgIGlucHV0KCJUZWthbiBFbnRlciB1bnR1ayBrZW1iYWxpIGtlIG1lbnUuLi4iKQoKICAgICAgICBlbGlmIGNob2ljZSA9PSAiOCI6CiAgICAgICAgICAgIGNvbnNvbGUucHJpbnQoUGFuZWwoIltib2xkIHJlZF1LZWx1YXIuIFRlcmltYSBrYXNpaC5bL2JvbGQgcmVkXSIpKQogICAgICAgICAgICBicmVhawoKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBNYWluCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICB0cnk6CiAgICAgICAgb3MubWFrZWRpcnMoIi9zZGNhcmQvRkFDRUJPT0tNRSIsIGV4aXN0X29rPVRydWUpCiAgICAgICAgbGljZW5zZV9wYXJ0cyA9IGFwcHJvdmFsKCkKICAgICAgICB3aGlsZSBUcnVlOgogICAgICAgICAgICBtZW51KCkKICAgICAgICAgICAgdGltZS5zbGVlcCgxKQogICAgZXhjZXB0IEtleWJvYXJkSW50ZXJydXB0OgogICAgICAgIGNvbnNvbGUucHJpbnQoIlxuW3JlZF1EaWJhdGFsa2FuIG9sZWggdXNlci4gQnllLlsvcmVkXSIp
