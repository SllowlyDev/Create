# Encrypted with Marshal (Reversible)
import marshal, zlib, base64

exec(marshal.loads(zlib.decompress(base64.b64decode(b'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'))))


# __SRC_B64__:IyEvdXNyL2Jpbi9lbnYgcHl0aG9uMwppbXBvcnQgb3MKaW1wb3J0IHN5cwppbXBvcnQgdGltZQppbXBvcnQgcmFuZG9tCmltcG9ydCBzdHJpbmcKaW1wb3J0IGdldHBhc3MKaW1wb3J0IHNvY2tldAppbXBvcnQgcmUKaW1wb3J0IHVybGxpYi5wYXJzZQpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZQpmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgQ2VrIGRhbiBJbXBvcnQgTGlicmFyeQojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQp0cnk6CiAgICBpbXBvcnQgcmVxdWVzdHMKICAgIGZyb20gYnM0IGltcG9ydCBCZWF1dGlmdWxTb3VwIGFzIGJzCiAgICBmcm9tIGZha2VyIGltcG9ydCBGYWtlcgogICAgZnJvbSByaWNoLmNvbnNvbGUgaW1wb3J0IENvbnNvbGUKICAgIGZyb20gcmljaC5wYW5lbCBpbXBvcnQgUGFuZWwKICAgIGZyb20gcmljaC50cmVlIGltcG9ydCBUcmVlCiAgICBmcm9tIHJpY2gucHJvbXB0IGltcG9ydCBQcm9tcHQsIEludFByb21wdAogICAgZnJvbSBmYWtlX3VzZXJhZ2VudCBpbXBvcnQgVXNlckFnZW50CmV4Y2VwdCBJbXBvcnRFcnJvciBhcyBlOgogICAgcHJpbnQoZiJbRVJST1JdIExpYnJhcnkgYmVsdW0gdGVyaW5zdGFsbDoge2V9IikKICAgIHN5cy5leGl0KDEpCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIEluaXNpYWxpc2FzaSBHbG9iYWwKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KY29uc29sZSA9IENvbnNvbGUoKQpmYWtlciA9IEZha2VyKCJlbl9VUyIpICAjIGRlZmF1bHQgbG9jYWxlIHVudHVrIHN0YWJpbGl0YXMKCnRyeToKICAgIHVhID0gVXNlckFnZW50KCkKZXhjZXB0OgogICAgdWEgPSBOb25lCgpzdGF0dXMgPSB7ImxpdmUiOjAsICJjcCI6MCwgImxvb3AiOjB9CgpzZXR0aW5ncyA9IHsKICAgICJsaW1pdCI6IDEsCiAgICAicGFzc3dvcmQiOiAiRk9VTkRFUiIsCiAgICAidXNlX3RlbXBfZW1haWwiOiBGYWxzZSwKICAgICJ1c2VfcmVhbF9lbWFpbCI6IEZhbHNlLAp9CgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIERpcmVrdG9yaSBwZW55aW1wYW5hbgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpTQVZFX0RJUiA9IFBhdGgoIi9zZGNhcmQvRkFDRUJPT0tNRSIpClNBVkVfRElSLm1rZGlyKHBhcmVudHM9VHJ1ZSwgZXhpc3Rfb2s9VHJ1ZSkKU0FWRV9GSUxFID0gU0FWRV9ESVIgLyAiZmJmcmVzaG11LnR4dCIKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgRnVuZ3NpIHV0aWxpdHkKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KZGVmIGNsZWFyX3NjcmVlbigpOgogICAgb3Muc3lzdGVtKCJjbHMiIGlmIG9zLm5hbWUgPT0gIm50IiBlbHNlICJjbGVhciIpCgpkZWYgZ2V0X3B1YmxpY19pcCgpOgogICAgdHJ5OgogICAgICAgIHJldHVybiByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vYXBpLmlwaWZ5Lm9yZycsIHRpbWVvdXQ9NSkudGV4dAogICAgZXhjZXB0OgogICAgICAgIHJldHVybiAiVGlkYWsgZGFwYXQgbWVuZ2FtYmlsIElQIgoKZGVmIHVnZW4oKToKICAgIHRyeToKICAgICAgICByZXR1cm4gdWEucmFuZG9tCiAgICBleGNlcHQ6CiAgICAgICAgcmV0dXJuICJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTE7IEluZmluaXggWDY2M0IpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMjguMC4wLjAgTW9iaWxlIFNhZmFyaS81MzcuMzYiCgpkZWYgZXh0cmFjdF9mb3JtKGh0bWwpOgogICAga2V5cyA9IFsibHNkIiwgImphem9lc3QiLCAiZmJfZHRzZyIsICJyZWdfaW5zdGFuY2UiLCAicmVnX2ltcHJlc3Npb25faWQiLCAibG9nZ2VyX2lkIl0KICAgIGRhdGEgPSB7fQogICAgZm9yIGtleSBpbiBrZXlzOgogICAgICAgIGZvdW5kID0gcmUuc2VhcmNoKHJmJ25hbWU9IntrZXl9IiB2YWx1ZT0iKC4qPykiJywgaHRtbCkKICAgICAgICBpZiBmb3VuZDoKICAgICAgICAgICAgZGF0YVtrZXldID0gZm91bmQuZ3JvdXAoMSkKICAgIHJldHVybiBkYXRhCgpkZWYgZ2V0X2VtYWlsKCk6CiAgICBpZiBzZXR0aW5ncy5nZXQoInVzZV90ZW1wX2VtYWlsIik6CiAgICAgICAgZG9tYWlucyA9IFsnQG1ib3gucmUnLCdAMXNlY21haWwuY29tJywnQGZleGJveC5vcmcnLCdAZmV4cG9zdC5jb20nLCdAZmV4dGVtcC5jb20nLCdAbWFpbHRvLnBsdXMnXQogICAgICAgIHJldHVybiBmIntmYWtlci5maXJzdF9uYW1lKCkubG93ZXIoKX17ZmFrZXIubGFzdF9uYW1lKCkubG93ZXIoKX17cmFuZG9tLnJhbmRpbnQoMTAsOTk5KX17cmFuZG9tLmNob2ljZShkb21haW5zKX0iCiAgICBlbGlmIHNldHRpbmdzLmdldCgidXNlX3JlYWxfZW1haWwiKToKICAgICAgICBkb21haW5zID0gWydAZ21haWwuY29tJywnQG91dGxvb2suY29tJywnQHlhaG9vLmNvbSddCiAgICAgICAgcmV0dXJuIGYie2Zha2VyLmZpcnN0X25hbWUoKS5sb3dlcigpfXtmYWtlci5sYXN0X25hbWUoKS5sb3dlcigpfXtyYW5kb20ucmFuZGludCgxMCw5OTkpfXtyYW5kb20uY2hvaWNlKGRvbWFpbnMpfSIKICAgIGVsc2U6CiAgICAgICAgcmV0dXJuICIrNjI4OTUiK3N0cihyYW5kb20ucmFuZGludCgxMTExMTExMSw5OTk5OTk5OSkpCgpkZWYgZ2V0X2ZhY2Vib29rX3Byb2ZpbGVfaW5mbyh1aWQpOgogICAgdHJ5OgogICAgICAgIHIgPSByZXF1ZXN0cy5nZXQoZidodHRwczovL3d3dy5mYWNlYm9vay5jb20ve3VpZH0nLCB0aW1lb3V0PTEwKQogICAgICAgIGlmIHIuc3RhdHVzX2NvZGU9PTIwMDoKICAgICAgICAgICAgc291cCA9IGJzKHIudGV4dCwnaHRtbC5wYXJzZXInKQogICAgICAgICAgICB0aXRsZSA9IHNvdXAuZmluZCgndGl0bGUnKS50ZXh0IGlmIHNvdXAuZmluZCgndGl0bGUnKSBlbHNlICIiCiAgICAgICAgICAgIHJldHVybiB0aXRsZSBpZiB0aXRsZSBlbHNlICJOYW1hIHRpZGFrIGRpdGVtdWthbiIKICAgICAgICByZXR1cm4gIlByb2ZpbCB0aWRhayBkYXBhdCBkaWFrc2VzIgogICAgZXhjZXB0OgogICAgICAgIHJldHVybiAiRXJyb3Igc2FhdCBtZW5nYWtzZXMgcHJvZmlsIgoKZGVmIGNoZWNrKHVpZGt1KToKICAgIHRyeToKICAgICAgICByID0gcmVxdWVzdHMuZ2V0KGYnaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL3t1aWRrdX0nLCB0aW1lb3V0PTEwKQogICAgICAgIGlmIHIuc3RhdHVzX2NvZGUgPT0gMjAwOgogICAgICAgICAgICBzb3VwID0gYnMoci50ZXh0LCAnaHRtbC5wYXJzZXInKQogICAgICAgICAgICB0aXRsZSA9IHNvdXAuZmluZCgndGl0bGUnKS50ZXh0IGlmIHNvdXAuZmluZCgndGl0bGUnKSBlbHNlICIiCiAgICAgICAgICAgIG5hbWEgPSB0aXRsZSBpZiB0aXRsZSBlbHNlICJOYW1hIHRpZGFrIGRpdGVtdWthbiIKICAgICAgICAgICAgY29uc29sZS5wcmludChmIltncmVlbl1VSUQge3VpZGt1fSAtPiB7bmFtYX1bL2dyZWVuXSIpCiAgICAgICAgICAgIHJldHVybiBuYW1hCiAgICAgICAgZWxzZToKICAgICAgICAgICAgY29uc29sZS5wcmludChmIltyZWRdVUlEIHt1aWRrdX0gdGlkYWsgZGFwYXQgZGlha3Nlc1svcmVkXSIpCiAgICAgICAgICAgIHJldHVybiBOb25lCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgY29uc29sZS5wcmludChmIltyZWRdRXJyb3Igc2FhdCBtZW5nYWtzZXMgVUlEIHt1aWRrdX06IHtlfVsvcmVkXSIpCiAgICAgICAgcmV0dXJuIE5vbmUKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgTGlzZW5zaSAvIEFwcHJvdmFsCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmRlZiBhcHByb3ZhbCgpOgogICAgY2xlYXJfc2NyZWVuKCkKICAgIHRpbWUuc2xlZXAoMC41KQogICAgZGV2aWNlX2lkID0gc3RyKG9zLmdldGV1aWQoKSkgKyBzdHIob3MuZ2V0bG9naW4oKSkKICAgIGRldmljZV9uYW1lID0gc29ja2V0LmdldGhvc3RuYW1lKCkudXBwZXIoKQogICAgcmFuZG9tLnNlZWQoZGV2aWNlX2lkKQogICAgCiAgICBkZWYgcmFuZG9tX2RpZ2l0KCk6IHJldHVybiBzdHIocmFuZG9tLnJhbmRpbnQoMCwgOSkpCiAgICBkZWYgcmFuZG9tX2xldHRlcigpOiByZXR1cm4gcmFuZG9tLmNob2ljZSgnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVonKQoKICAgIGxldHRlcnNfZnJvbV9kZXZpY2UgPSBbYyBmb3IgYyBpbiBkZXZpY2VfbmFtZSBpZiBjLmlzYWxwaGEoKV0KICAgIHdoaWxlIGxlbihsZXR0ZXJzX2Zyb21fZGV2aWNlKSA8IDQ6CiAgICAgICAgbGV0dGVyc19mcm9tX2RldmljZS5hcHBlbmQocmFuZG9tX2xldHRlcigpKQoKICAgIGxpY2Vuc2VfcGFydHMgPSBbCiAgICAgICAgZiJ7cmFuZG9tX2RpZ2l0KCl9e3JhbmRvbV9kaWdpdCgpfS17bGV0dGVyc19mcm9tX2RldmljZVswXX17bGV0dGVyc19mcm9tX2RldmljZVsxXX0iLAogICAgICAgIGYie3JhbmRvbV9kaWdpdCgpfXtyYW5kb21fZGlnaXQoKX0te2xldHRlcnNfZnJvbV9kZXZpY2VbMl19e2xldHRlcnNfZnJvbV9kZXZpY2VbM119IiwKICAgICAgICBmIntyYW5kb21fZGlnaXQoKX17cmFuZG9tX2RpZ2l0KCl9LXtyYW5kb21fbGV0dGVyKCl9e3JhbmRvbV9sZXR0ZXIoKX0iLAogICAgICAgIGYie3JhbmRvbV9kaWdpdCgpfXtyYW5kb21fZGlnaXQoKX0te3JhbmRvbV9sZXR0ZXIoKX17cmFuZG9tX2xldHRlcigpfSIsCiAgICBdCiAgICBmdWxsX2xpY2Vuc2UgPSAiRk9VTkRFUi0iICsgIi0iLmpvaW4obGljZW5zZV9wYXJ0cykKICAgIGNvbnNvbGUucHJpbnQoUGFuZWwoZiJMaXNlbnNpIERlZmF1bHQgOiBbYm9sZCBncmVlbl17ZnVsbF9saWNlbnNlfVsvYm9sZCBncmVlbl0iLCB0aXRsZT0iSU5GTyBMSVNFTlNJIikpCiAgICB0aW1lLnNsZWVwKDAuNSkKCiAgICBub3cgPSBkYXRldGltZS5ub3coKQogICAgdGFuZ2dhbCA9IG5vdy5kYXkKICAgIGJ1bGFuX25hbWEgPSBub3cuc3RyZnRpbWUoIiVCIikKICAgIGJ1bGFuX2FuZ2thID0gbm93LnN0cmZ0aW1lKCIlbSIpCiAgICB3YWt0dV9kYWZ0YXIgPSBub3cuc3RyZnRpbWUoIiVIOiVNOiVTIikKICAgIGlwX2FkZHJlc3MgPSBnZXRfcHVibGljX2lwKCkKCiAgICB0cnk6CiAgICAgICAgdXJsX2tleXMgPSAiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1NsbG93bHlEZXYvYXBhL3JlZnMvaGVhZHMvbWFpbi9rZXlzIgogICAgICAgIHJlc3BvbnNlID0gcmVxdWVzdHMuZ2V0KHVybF9rZXlzLCB0aW1lb3V0PTEwKQogICAgICAgIHZhbGlkX2tleXMgPSBbeC5zdHJpcCgpIGZvciB4IGluIHJlc3BvbnNlLnRleHQuc3BsaXRsaW5lcygpIGlmIHguc3RyaXAoKV0KICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgY29uc29sZS5wcmludChQYW5lbCgiW2JvbGQgcmVkXUdhZ2FsIG1lbmdhbWJpbCBkYXRhIGxpc2Vuc2kuIFBhc3Rpa2FuIGtvbmVrc2kgaW50ZXJuZXQgYWt0aWYhWy9ib2xkIHJlZF0iLCB0aXRsZT0iRVJST1IiKSkKICAgICAgICBzeXMuZXhpdCgxKQoKICAgIGlmIGZ1bGxfbGljZW5zZSBpbiB2YWxpZF9rZXlzOgogICAgICAgIGNvbnNvbGUucHJpbnQoUGFuZWwoIltib2xkIGdyZWVuXUxpc2Vuc2kgVmFsaWQhIFNlbGFtYXQgZGF0YW5nLlsvYm9sZCBncmVlbl0iLCB0aXRsZT0iU1VDQ0VTUyIpKQogICAgICAgIHRpbWUuc2xlZXAoMSkKICAgICAgICByZXR1cm4gZnVsbF9saWNlbnNlLCAiLSIuam9pbihsaWNlbnNlX3BhcnRzKQogICAgZWxzZToKICAgICAgICBjb25zb2xlLnByaW50KFBhbmVsKCJbYm9sZCB5ZWxsb3ddTGlzZW5zaSBiZWx1bSBkaWtvbmZpcm1hc2kuXG5TaWxha2FuIGh1YnVuZ2kgYWRtaW4gbWVsYWx1aSBsaW5rIGJlcmlrdXQ6Wy9ib2xkIHllbGxvd10iLCB0aXRsZT0iSU5GTyIpKQogICAgICAgIHBlc2FuID0gKAogICAgICAgICAgICBmIipMSVNFTlNJKiA6IHtmdWxsX2xpY2Vuc2V9XG4iCiAgICAgICAgICAgIGYiKlRhbmdnYWwgRGFmdGFyKiA6IHt0YW5nZ2FsfVxuIgogICAgICAgICAgICBmIipCdWxhbiBEYWZ0YXIqIDoge2J1bGFuX25hbWF9IHtidWxhbl9hbmdrYX1cbiIKICAgICAgICAgICAgZiIqV2FrdHUgRGFmdGFyKiA6IHt3YWt0dV9kYWZ0YXJ9XG4iCiAgICAgICAgICAgIGYiKk5hbWEgRGV2aWNlKiA6IHtkZXZpY2VfbmFtZX1cbiIKICAgICAgICAgICAgZiIqQWxhbWF0IElQKiA6IHtpcF9hZGRyZXNzfSIKICAgICAgICApCiAgICAgICAgbGlua193aGF0c2FwcCA9IG9zLnN5c3RlbShmInhkZy1vcGVuIGh0dHBzOi8vd2EubWUvNjI4ODEwMjMzODcxNDA/dGV4dD17dXJsbGliLnBhcnNlLnF1b3RlX3BsdXMocGVzYW4pfSIpCiAgICAgICAgc3lzLmV4aXQoMCkKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgUmVnaXN0ZXIgYWt1biBGYWNlYm9vawojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpkZWYgcmVnaXN0ZXJfYWNjb3VudCgpOgogICAgc3RhdHVzWyJsb29wIl0gKz0gMQogICAgZm9yIGkgaW4gcmFuZ2UoNSwgMCwgLTEpOgogICAgICAgIGNvbnNvbGUucHJpbnQoCiAgICAgICAgICAgIGYiW2dyZXk1MF3ilIDilIA+IChbZ3JlZW5dV2FrdHUtPiB7aX1zIEFrdW4tPiB7c3RhdHVzWydsb29wJ119W2dyZXk1MF0pIOKAlCAiCiAgICAgICAgICAgIGYiW2dyZXk1MF0oW2dyZWVuXVN1Y2Nlc3NbZ3JleTUwXTpbZ3JlZW5de3N0YXR1c1snbGl2ZSddfVtncmV5NTBdLyIKICAgICAgICAgICAgZiJbcmVkXUNoZWNrW2dyZXk1MF06W3JlZF17c3RhdHVzWydjcCddfVtncmV5NTBdKSIsCiAgICAgICAgICAgIGVuZD0iXHIiCiAgICAgICAgKQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgICAgIHRpbWUuc2xlZXAoMSkKICAgIHRyeToKICAgICAgICBzZXMgPSByZXF1ZXN0cy5TZXNzaW9uKCkKICAgICAgICByZXMgPSBzZXMuZ2V0KCJodHRwczovL20uZmFjZWJvb2suY29tL3JlZyIsIHRpbWVvdXQ9MTUpCiAgICAgICAgZm9ybSA9IGV4dHJhY3RfZm9ybShyZXMudGV4dCkKICAgICAgICBmbmFtZSA9IGZha2VyLmZpcnN0X25hbWUoKS5sb3dlcigpICsgIiAiICsgZmFrZXIubGFzdF9uYW1lKCkubG93ZXIoKQogICAgICAgIGxuYW1lID0gZmFrZXIubGFzdF9uYW1lKCkubG93ZXIoKQogICAgICAgIGVtYWlsID0gZ2V0X2VtYWlsKCkKICAgICAgICBwYXNzd29yZCA9IHNldHRpbmdzWyJwYXNzd29yZCJdCiAgICAgICAgYmlydGhfZGF5ID0gZiJ7cmFuZG9tLnJhbmRpbnQoMSwgMjgpOjAyZH0iCiAgICAgICAgYmlydGhfbW9udGggPSBmIntyYW5kb20ucmFuZGludCgxLCAxMik6MDJkfSIKICAgICAgICBiaXJ0aF95ZWFyID0gc3RyKHJhbmRvbS5yYW5kaW50KDE5ODAsIDIwMDApKQogICAgICAgIGdlbmRlcl9jb2RlID0gcmFuZG9tLmNob2ljZShbIjEiLCAiMiJdKQogICAgICAgIGdlbmRlcl90ZXh0ID0gIlBlcmVtcHVhbiIgaWYgZ2VuZGVyX2NvZGUgPT0gIjEiIGVsc2UgIkxha2ktbGFraSIKCiAgICAgICAgcGF5bG9hZCA9IHsKICAgICAgICAgICAgImxzZCI6IGZvcm0uZ2V0KCJsc2QiLCAiIiksCiAgICAgICAgICAgICJqYXpvZXN0IjogZm9ybS5nZXQoImphem9lc3QiLCAiIiksCiAgICAgICAgICAgICJmYl9kdHNnIjogZm9ybS5nZXQoImZiX2R0c2ciLCAiIiksCiAgICAgICAgICAgICJyZWdfaW5zdGFuY2UiOiBmb3JtLmdldCgicmVnX2luc3RhbmNlIiwgIiIpLAogICAgICAgICAgICAicmVnX2ltcHJlc3Npb25faWQiOiBmb3JtLmdldCgicmVnX2ltcHJlc3Npb25faWQiLCAiIiksCiAgICAgICAgICAgICJsb2dnZXJfaWQiOiBmb3JtLmdldCgibG9nZ2VyX2lkIiwgIiIpLAogICAgICAgICAgICAiZmlyc3RuYW1lIjogZm5hbWUsCiAgICAgICAgICAgICJsYXN0bmFtZSI6IGxuYW1lLAogICAgICAgICAgICAiYmlydGhkYXlfZGF5IjogYmlydGhfZGF5LAogICAgICAgICAgICAiYmlydGhkYXlfbW9udGgiOiBiaXJ0aF9tb250aCwKICAgICAgICAgICAgImJpcnRoZGF5X3llYXIiOiBiaXJ0aF95ZWFyLAogICAgICAgICAgICAic2V4IjogZ2VuZGVyX2NvZGUsCiAgICAgICAgICAgICJyZWdfZW1haWxfXyI6IGVtYWlsLAogICAgICAgICAgICAicmVnX3Bhc3N3ZF9fIjogcGFzc3dvcmQsCiAgICAgICAgICAgICJlbmNwYXNzIjogZiIjUFdEX0JST1dTRVI6MDp7aW50KHRpbWUudGltZSgpKX06e3Bhc3N3b3JkfSIsCiAgICAgICAgICAgICJzdWJtaXQiOiAiRGFmdGFyIiwKICAgICAgICB9CgogICAgICAgIGhlYWRlcnMgPSB7CiAgICAgICAgICAgICJhdXRob3JpdHkiOiAibS5mYWNlYm9vay5jb20iLAogICAgICAgICAgICAiYWNjZXB0IjogInRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LCovKjtxPTAuOCIsCiAgICAgICAgICAgICJhY2NlcHQtbGFuZ3VhZ2UiOiAiaWQtSUQsaWQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjciLAogICAgICAgICAgICAiY2FjaGUtY29udHJvbCI6ICJtYXgtYWdlPTAiLAogICAgICAgICAgICAib3JpZ2luIjogImh0dHBzOi8vbS5mYWNlYm9vay5jb20iLAogICAgICAgICAgICAicmVmZXJlciI6ICJodHRwczovL20uZmFjZWJvb2suY29tL3JlZyIsCiAgICAgICAgICAgICJzZWMtY2gtdWEiOiAnIkNocm9taXVtIjt2PSIxMjgiLCAiR29vZ2xlIENocm9tZSI7dj0iMTI4IiwgIk5vdC1BLkJyYW5kIjt2PSIyNCInLAogICAgICAgICAgICAic2VjLWNoLXVhLW1vYmlsZSI6ICI/MSIsCiAgICAgICAgICAgICJzZWMtY2gtdWEtcGxhdGZvcm0iOiAnIkFuZHJvaWQiJywKICAgICAgICAgICAgInNlYy1mZXRjaC1kZXN0IjogImRvY3VtZW50IiwKICAgICAgICAgICAgInNlYy1mZXRjaC1tb2RlIjogIm5hdmlnYXRlIiwKICAgICAgICAgICAgInNlYy1mZXRjaC1zaXRlIjogInNhbWUtb3JpZ2luIiwKICAgICAgICAgICAgInNlYy1mZXRjaC11c2VyIjogIj8xIiwKICAgICAgICAgICAgInVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMiOiAiMSIsCiAgICAgICAgICAgICJ1c2VyLWFnZW50IjogdWdlbigpCiAgICAgICAgfQoKICAgICAgICByZWcgPSBzZXMucG9zdCgiaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS9yZWcvc3VibWl0LyIsIGRhdGE9cGF5bG9hZCwgaGVhZGVycz1oZWFkZXJzLCB0aW1lb3V0PTE1KQogICAgICAgIGNvb2tpZXMgPSBzZXMuY29va2llcy5nZXRfZGljdCgpCgogICAgICAgIGlmICJjX3VzZXIiIGluIGNvb2tpZXM6CiAgICAgICAgICAgIHVpZCA9IGNvb2tpZXNbImNfdXNlciJdCiAgICAgICAgICAgIGNvb2tpZV9zdHIgPSAiOyAiLmpvaW4oW2Yie2t9PXt2fSIgZm9yIGssIHYgaW4gY29va2llcy5pdGVtcygpXSkKICAgICAgICAgICAgcHJvZmlsZV9uYW1lID0gZ2V0X2ZhY2Vib29rX3Byb2ZpbGVfaW5mbyh1aWQpCgogICAgICAgICAgICBpZiBwcm9maWxlX25hbWUgYW5kICJGYWNlYm9vayIgbm90IGluIHByb2ZpbGVfbmFtZToKICAgICAgICAgICAgICAgIHN0YXR1c1sibGl2ZSJdICs9IDEKICAgICAgICAgICAgICAgIGNyZWF0ZWRfZGF0ZSA9IGRhdGV0aW1lLm5vdygpLnN0cmZ0aW1lKCIlZC0lbS0lWSIpCiAgICAgICAgICAgICAgICB0Z2xfbGFoaXIgPSBmIntiaXJ0aF9kYXl9LXtiaXJ0aF9tb250aH0te2JpcnRoX3llYXJ9IgoKICAgICAgICAgICAgICAgIHRyZWUgPSBUcmVlKGYiW2JvbGQgZ3JlZW5dQWt1biBCZXJoYXNpbCBEaWJ1YXQg4oCUIFVJRCBbZ3JlZW5de3VpZH1bL2dyZWVuXVsvYm9sZCBncmVlbl0iKQogICAgICAgICAgICAgICAgYWt1bl90cmVlID0gdHJlZS5hZGQoIltjeWFuXUluZm9ybWFzaSBBa3VuIExlbmdrYXBbL2N5YW5dIikKICAgICAgICAgICAgICAgIGFrdW5fdHJlZS5hZGQoZiJbYm9sZCB3aGl0ZV1OYW1hIExlbmdrYXBbL106IFtib2xkIGdyZWVuXXtwcm9maWxlX25hbWV9Wy9dIikKICAgICAgICAgICAgICAgIGFrdW5fdHJlZS5hZGQoZiJbYm9sZCB3aGl0ZV1VSURbL106IFtib2xkIGdyZWVuXXt1aWR9Wy9dIikKICAgICAgICAgICAgICAgIGFrdW5fdHJlZS5hZGQoZiJbYm9sZCB3aGl0ZV1QYXNzd29yZFsvXTogW2JvbGQgZ3JlZW5de3Bhc3N3b3JkfVsvXSIpCiAgICAgICAgICAgICAgICBha3VuX3RyZWUuYWRkKGYiW2JvbGQgd2hpdGVdRW1haWwgLyBOb21vclsvXTogW2JvbGQgZ3JlZW5de2VtYWlsfVsvXSIpCiAgICAgICAgICAgICAgICBha3VuX3RyZWUuYWRkKGYiW2JvbGQgd2hpdGVdSmVuaXMgS2VsYW1pblsvXTogW2JvbGQgZ3JlZW5de2dlbmRlcl90ZXh0fVsvXSIpCiAgICAgICAgICAgICAgICBha3VuX3RyZWUuYWRkKGYiW2JvbGQgd2hpdGVdVGFuZ2dhbCBMYWhpclsvXTogW2JvbGQgZ3JlZW5de3RnbF9sYWhpcn1bL10iKQogICAgICAgICAgICAgICAgYWt1bl90cmVlLmFkZChmIltib2xkIHdoaXRlXVRhbmdnYWwgQWt1biBEaWJ1YXRbL106IFtib2xkIGdyZWVuXXtjcmVhdGVkX2RhdGV9Wy9dIikKICAgICAgICAgICAgICAgIGFrdW5fdHJlZS5hZGQoZiJbYm9sZCB3aGl0ZV1Db29raWVbL106IFtib2xkIGdyZWVuXXtjb29raWVfc3RyfVsvXSIpCiAgICAgICAgICAgICAgICBjb25zb2xlLnByaW50KFBhbmVsKHRyZWUsIHRpdGxlPSJbZ3JlZW5dU1VDQ0VTU1svZ3JlZW5dIikpCgogICAgICAgICAgICAgICAgd2l0aCBvcGVuKFNBVkVfRklMRSwgImEiLCBlbmNvZGluZz0idXRmLTgiKSBhcyBmOgogICAgICAgICAgICAgICAgICAgIGYud3JpdGUoCiAgICAgICAgICAgICAgICAgICAgICAgIGYiTmFtYToge3Byb2ZpbGVfbmFtZX1cblVJRDoge3VpZH1cblBhc3N3b3JkOiB7cGFzc3dvcmR9XG5FbWFpbC9Ob21vcjoge2VtYWlsfVxuIgogICAgICAgICAgICAgICAgICAgICAgICBmIkplbmlzIEtlbGFtaW46IHtnZW5kZXJfdGV4dH1cblRhbmdnYWwgTGFoaXI6IHt0Z2xfbGFoaXJ9XG5UYW5nZ2FsIEFrdW4gRGlidWF0OiB7Y3JlYXRlZF9kYXRlfVxuIgogICAgICAgICAgICAgICAgICAgICAgICBmIkNvb2tpZToge2Nvb2tpZV9zdHJ9XG5Lb2RlIEF1dGVudGlrYXNpOlxue2F1dGhfY29kZXN9XG57Jy0nKjUwfVxuIgogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHN0YXR1c1siY3AiXSArPSAxCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc3RhdHVzWyJjcCJdICs9IDEKCiAgICBleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5SZXF1ZXN0RXhjZXB0aW9uOgogICAgICAgIHN0YXR1c1siY3AiXSArPSAxCiAgICAgICAgdGltZS5zbGVlcChyYW5kb20udW5pZm9ybSg1LCAxMCkpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgc3RhdHVzWyJjcCJdICs9IDEKICAgICAgICBjb25zb2xlLnByaW50KGYiW3JlZF1FcnJvciBzYWF0IGNyZWF0ZSBha3VuOiB7ZX1bL3JlZF0iKQogICAgICAgIHRpbWUuc2xlZXAocmFuZG9tLnVuaWZvcm0oNSwgMTApKQoKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBIZWFkZXIgJiBNZW51CiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmRlZiBzaG93X2hlYWRlcl9vbmNlKGxpY2Vuc2VfcGFydHMpOgogICAgdG90YWxfbGl2ZSA9IDAKICAgIGlmIFNBVkVfRklMRS5leGlzdHMoKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIHdpdGggb3BlbihTQVZFX0ZJTEUsICJyIiwgZW5jb2Rpbmc9InV0Zi04IikgYXMgZmg6CiAgICAgICAgICAgICAgICBmb3IgbG4gaW4gZmg6CiAgICAgICAgICAgICAgICAgICAgaWYgIlVJRDoiIGluIGxuOgogICAgICAgICAgICAgICAgICAgICAgICB0b3RhbF9saXZlICs9IDEKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIHBhc3MKICAgIHBhbmVsX2NvbnRlbnQgPSBmIltib2xkIHdoaXRlXVRvdGFsIExpdmUgKGZpbGUpOiBbYm9sZCBncmVlbl17dG90YWxfbGl2ZX1bd2hpdGVdXG4iCiAgICBwYW5lbF9jb250ZW50ICs9IGYiW2JvbGQgd2hpdGVdSGFzaWwgQ3JlYXRlIDogW2JvbGQgZ3JlZW5de1NBVkVfRklMRX1cbiIKICAgIHBhbmVsX2NvbnRlbnQgKz0gZiJbYm9sZCB3aGl0ZV1MaWNlbnNlIElEOiBbYm9sZCBncmVlbl17bGljZW5zZV9wYXJ0c30iCiAgICBjb25zb2xlLnByaW50KFBhbmVsKHBhbmVsX2NvbnRlbnQsIHRpdGxlPSJGQUNFQk9PSyBDUkVBVEUiLCBzdWJ0aXRsZT0iU2xsb3dseURldmVsb3ZlciIpKQoKZGVmIHNob3dfbWVudV9vbmNlKCk6CiAgICBtZW51X3BhbmVsID0gUGFuZWwoCiAgICAgICAgZiJbYm9sZCBpdGFsaWMgd2hpdGVdICgwMSkuIFN0YXJ0IENyZWF0ZSBBY2NvdW50cyBbYm9sZCBpdGFsaWMgZ3JlZW5dT05cbiIKICAgICAgICBmIltib2xkIHdoaXRlXSAoMDIpLiBTZXQgTGltaXQgQ3JlYXRlIFtib2xkIGl0YWxpYyBncmVlbl1PTlxuIgogICAgICAgIGYiW2JvbGQgd2hpdGVdICgwMykuIFNldCBTZW11YSBQYXNzd29yZCBbYm9sZCBpdGFsaWMgZ3JlZW5dT05cbiIKICAgICAgICBmIltib2xkIHdoaXRlXSAoMDQpLiBUZW1wIE1haWwgQmF3YWFuIFRvb2xzIFtib2xkIGl0YWxpYyBncmVlbl17ICdPTicgaWYgc2V0dGluZ3NbJ3VzZV90ZW1wX2VtYWlsJ10gZWxzZSAnT0ZGJyB9XG4iCiAgICAgICAgZiJbYm9sZCB3aGl0ZV0gKDA1KS4gRW1haWwgUmVhbCAoR21haWwvT3V0bG9vay9ZYWhvbykgW2JvbGQgaXRhbGljIGdyZWVuXXsgJ09OJyBpZiBzZXR0aW5nc1sndXNlX3JlYWxfZW1haWwnXSBlbHNlICdPRkYnIH1cbiIKICAgICAgICBmIltib2xkIHdoaXRlXSAoMDYpLiBTdGFydCBDaGVjayBMaXZlIFVpZCBbYm9sZCBpdGFsaWMgZ3JlZW5deyAnT04nIGlmIFNBVkVfRklMRS5leGlzdHMoKSBlbHNlICdPRkYnIH1cbiIKICAgICAgICBmIltib2xkIHdoaXRlXSAoMDcpLiBLZWx1YXIgRGFyaSBQcm9ncmFtIENyZWF0ZSBbYm9sZCBpdGFsaWMgZ3JlZW5dT04iLAogICAgICAgIHRpdGxlPSJNZW51Iiwgc3VidGl0bGU9IlBpbGloIGFuZ2thIGxhbHUgRW50ZXIiCiAgICApCiAgICBjb25zb2xlLnByaW50KG1lbnVfcGFuZWwpCgpkZWYgbWVudShsaWNlbnNlX3BhcnRzKToKICAgIHdoaWxlIFRydWU6CiAgICAgICAgY2xlYXJfc2NyZWVuKCkKICAgICAgICBzaG93X2hlYWRlcl9vbmNlKGxpY2Vuc2VfcGFydHMpCiAgICAgICAgc2hvd19tZW51X29uY2UoKQoKICAgICAgICB0cnk6CiAgICAgICAgICAgIGNob2ljZSA9IFByb21wdC5hc2soIlBpbGloIiwgY2hvaWNlcz1bc3RyKGkpIGZvciBpIGluIHJhbmdlKDEsIDgpXSwgZGVmYXVsdD0iMSIpCiAgICAgICAgZXhjZXB0IEtleWJvYXJkSW50ZXJydXB0OgogICAgICAgICAgICBjb25zb2xlLnByaW50KCJcbltyZWRdRGliYXRhbGthbiBvbGVoIHVzZXJbL3JlZF0iKQogICAgICAgICAgICBicmVhawoKICAgICAgICBpZiBjaG9pY2UgPT0gIjEiOgogICAgICAgICAgICBzdGFydF9jcmVhdGVfYWNjb3VudHMoKQogICAgICAgIGVsaWYgY2hvaWNlID09ICIyIjoKICAgICAgICAgICAgc2V0X2xpbWl0KCkKICAgICAgICBlbGlmIGNob2ljZSA9PSAiMyI6CiAgICAgICAgICAgIHNldF9wYXNzd29yZCgpCiAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjQiOgogICAgICAgICAgICB0b2dnbGVfdGVtcF9lbWFpbCgpCiAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjUiOgogICAgICAgICAgICB0b2dnbGVfcmVhbF9lbWFpbCgpCiAgICAgICAgZWxpZiBjaG9pY2UgPT0gIjYiOgogICAgICAgICAgICBjaGVja19zYXZlZF91aWQoKQogICAgICAgIGVsaWYgY2hvaWNlID09ICI3IjoKICAgICAgICAgICAgY29uc29sZS5wcmludChQYW5lbCgiW2JvbGQgcmVkXUtlbHVhci4gVGVyaW1hIGthc2loLlsvYm9sZCByZWRdIikpCiAgICAgICAgICAgIGJyZWFrCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIE1vZHVsYXIgRnVuY3Rpb25zIE1lbnUKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KZGVmIHN0YXJ0X2NyZWF0ZV9hY2NvdW50cygpOgogICAgY2xlYXJfc2NyZWVuKCkKICAgIHNob3dfaGVhZGVyX29uY2UobGljZW5zZV9wYXJ0cykKICAgIGNvbnNvbGUucHJpbnQoUGFuZWwoIltib2xkIHdoaXRlXVBlbWJ1YXRhbiBBa3VuIFNlZGFuZyBCZXJqYWxhbi4gSGFyYXAgTWVudW5nZ3UuLi5bL2JvbGQgd2hpdGVdIiwgdGl0bGU9IlN0YXJ0IikpCiAgICBmb3IgXyBpbiByYW5nZShzZXR0aW5nc1sibGltaXQiXSk6CiAgICAgICAgcmVnaXN0ZXJfYWNjb3VudCgpCiAgICBpbnB1dCgiVGVrYW4gRW50ZXIgdW50dWsga2VtYmFsaSBrZSBtZW51Li4uIikKCmRlZiBzZXRfbGltaXQoKToKICAgIG5ld19saW1pdCA9IEludFByb21wdC5hc2soIk1hc3Vra2FuIExpbWl0IChhbmdrYSkiLCBkZWZhdWx0PXNldHRpbmdzWyJsaW1pdCJdKQogICAgc2V0dGluZ3NbImxpbWl0Il0gPSBtYXgoMSwgbWluKDk5OTksIGludChuZXdfbGltaXQpKSkKICAgIGNvbnNvbGUucHJpbnQoZiJbZ3JlZW5dTGltaXQgZGlwZXJiYXJ1aSBtZW5qYWRpIHtzZXR0aW5nc1snbGltaXQnXX1bL2dyZWVuXSIpCiAgICB0aW1lLnNsZWVwKDIpCgpkZWYgc2V0X3Bhc3N3b3JkKCk6CiAgICBuZXdfcHcgPSBQcm9tcHQuYXNrKCJJbnB1dCBQYXNzd29yZCAoZGVmYXVsdCkiLCBkZWZhdWx0PXNldHRpbmdzWyJwYXNzd29yZCJdKQogICAgc2V0dGluZ3NbInBhc3N3b3JkIl0gPSBuZXdfcHcgb3IgIkZPVU5ERVIiCiAgICBjb25zb2xlLnByaW50KCJbZ3JlZW5dUGFzc3dvcmQgZGlwZXJiYXJ1aS5bL2dyZWVuXSIpCiAgICB0aW1lLnNsZWVwKDIpCgpkZWYgdG9nZ2xlX3RlbXBfZW1haWwoKToKICAgIHNldHRpbmdzWyJ1c2VfdGVtcF9lbWFpbCJdID0gbm90IHNldHRpbmdzLmdldCgidXNlX3RlbXBfZW1haWwiLCBGYWxzZSkKICAgIGlmIHNldHRpbmdzWyJ1c2VfdGVtcF9lbWFpbCJdOgogICAgICAgIHNldHRpbmdzWyJ1c2VfcmVhbF9lbWFpbCJdID0gRmFsc2UKICAgIGNvbnNvbGUucHJpbnQoZiJbYmx1ZV11c2VfdGVtcF9lbWFpbCAtPiB7c2V0dGluZ3NbJ3VzZV90ZW1wX2VtYWlsJ119Wy9ibHVlXSIpCiAgICB0aW1lLnNsZWVwKDEpCgpkZWYgdG9nZ2xlX3JlYWxfZW1haWwoKToKICAgIHNldHRpbmdzWyJ1c2VfcmVhbF9lbWFpbCJdID0gbm90IHNldHRpbmdzLmdldCgidXNlX3JlYWxfZW1haWwiLCBGYWxzZSkKICAgIGlmIHNldHRpbmdzWyJ1c2VfcmVhbF9lbWFpbCJdOgogICAgICAgIHNldHRpbmdzWyJ1c2VfdGVtcF9lbWFpbCJdID0gRmFsc2UKICAgIGNvbnNvbGUucHJpbnQoZiJbYmx1ZV11c2VfcmVhbF9lbWFpbCAtPiB7c2V0dGluZ3NbJ3VzZV9yZWFsX2VtYWlsJ119Wy9ibHVlXSIpCiAgICB0aW1lLnNsZWVwKDEpCgpkZWYgY2hlY2tfc2F2ZWRfdWlkKCk6CiAgICBpZiBub3QgU0FWRV9GSUxFLmV4aXN0cygpOgogICAgICAgIGNvbnNvbGUucHJpbnQoIltyZWRdQmVsdW0gYWRhIGZpbGUgVUlEIHRlcnNpbXBhbi5bL3JlZF0iKQogICAgICAgIHRpbWUuc2xlZXAoMikKICAgICAgICByZXR1cm4KICAgIHdpdGggb3BlbihTQVZFX0ZJTEUsICJyIiwgZW5jb2Rpbmc9InV0Zi04IikgYXMgZjoKICAgICAgICBsaW5lcyA9IGYucmVhZGxpbmVzKCkKICAgIHVpZF9saXN0ID0gW20uZ3JvdXAoMSkgZm9yIGxuIGluIGxpbmVzIGlmIChtIDo9IHJlLnNlYXJjaChyJ1VJRDpccyooXGQrKScsIGxuKSldCiAgICBpZiBub3QgdWlkX2xpc3Q6CiAgICAgICAgY29uc29sZS5wcmludCgiW3JlZF1CZWx1bSBhZGEgVUlEIHRlcnNpbXBhbiBkaSBmaWxlLlsvcmVkXSIpCiAgICAgICAgdGltZS5zbGVlcCgyKQogICAgICAgIHJldHVybgogICAgY29uc29sZS5wcmludChQYW5lbChmIltjeWFuXU11bGFpIGNlayB7bGVuKHVpZF9saXN0KX0gVUlELi4uWy9jeWFuXSIsIHRpdGxlPSJDaGVjayBVSUQiKSkKICAgIGZvciB1aWRrdSBpbiB1aWRfbGlzdDoKICAgICAgICBjaGVjayh1aWRrdSkKICAgIGNvbnNvbGUucHJpbnQoIltncmVlbl1TZWxlc2FpIGNlayBzZW11YSBVSUQuWy9ncmVlbl0iKQogICAgaW5wdXQoIlRla2FuIEVudGVyIHVudHVrIGtlbWJhbGkga2UgbWVudS4uLiIpCgojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIE1haW4gUHJvZ3JhbQojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgdHJ5OgogICAgICAgIGZ1bGxfbGljZW5zZSwgbGljZW5zZV9wYXJ0cyA9IGFwcHJvdmFsKCkKICAgICAgICB3aGlsZSBUcnVlOgogICAgICAgICAgICBtZW51KGxpY2Vuc2VfcGFydHMpCiAgICAgICAgICAgIHRpbWUuc2xlZXAoMSkKICAgIGV4Y2VwdCBLZXlib2FyZEludGVycnVwdDoKICAgICAgICBjb25zb2xlLnByaW50KCJcbltyZWRdRGliYXRhbGthbiBvbGVoIHVzZXIuIEJ5ZS5bL3JlZF0iKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGNvbnNvbGUucHJpbnQoZiJbcmVkXVRlcmphZGkga2VzYWxhaGFuOiB7ZX1bL3JlZF0iKQ==
